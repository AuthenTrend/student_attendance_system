{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/forms/Check.vue?d934","webpack:///./src/components/forms/InputForm.vue?2b51","webpack:///./src/views/SignIn.vue?fff1","webpack:///./src/views/NewKey.vue?71a0","webpack:///./src/components/forms/CampusForm.vue?184a","webpack:///./src/views/Profile.vue?39dc","webpack:///./src/App.vue?d975","webpack:///./src/config/page.js","webpack:///./src/utils/api.js","webpack:///src/App.vue","webpack:///./src/App.vue?382d","webpack:///./src/App.vue?a286","webpack:///./src/views/Login.vue?5c13","webpack:///./src/utils/fido.js","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?8434","webpack:///./src/views/Login.vue?43e5","webpack:///./src/views/Classes.vue?981c","webpack:///./src/utils/format.js","webpack:///./src/components/forms/FileForm.vue?5e72","webpack:///src/components/forms/FileForm.vue","webpack:///./src/components/forms/FileForm.vue?ed41","webpack:///./src/components/forms/FileForm.vue?0e7c","webpack:///./src/components/forms/Check.vue?0a6f","webpack:///src/components/forms/Check.vue","webpack:///./src/components/forms/Check.vue?8956","webpack:///./src/components/forms/Check.vue?ece0","webpack:///src/views/Classes.vue","webpack:///./src/views/Classes.vue?9d2b","webpack:///./src/views/Classes.vue?42cc","webpack:///./src/views/Class.vue?51c2","webpack:///./src/components/AttendStatusSwitch.vue?b235","webpack:///src/components/AttendStatusSwitch.vue","webpack:///./src/components/AttendStatusSwitch.vue?7f93","webpack:///./src/components/AttendStatusSwitch.vue?dcb2","webpack:///./src/components/forms/StudentsForm.vue?ea1e","webpack:///src/components/forms/StudentsForm.vue","webpack:///./src/components/forms/StudentsForm.vue?132b","webpack:///./src/components/forms/StudentsForm.vue?4f33","webpack:///src/views/Class.vue","webpack:///./src/views/Class.vue?3ac6","webpack:///./src/views/Class.vue?609c","webpack:///./src/views/SignIn.vue?8cd5","webpack:///src/views/SignIn.vue","webpack:///./src/views/SignIn.vue?06cd","webpack:///./src/views/SignIn.vue?6e67","webpack:///./src/views/NewClass.vue?8331","webpack:///./src/utils/mock.js","webpack:///src/views/NewClass.vue","webpack:///./src/views/NewClass.vue?390f","webpack:///./src/views/NewClass.vue?047a","webpack:///./src/views/Users.vue?17eb","webpack:///./src/components/forms/UserForm.vue?32c7","webpack:///src/components/forms/UserForm.vue","webpack:///./src/components/forms/UserForm.vue?47f4","webpack:///./src/components/forms/UserForm.vue?f98d","webpack:///src/views/Users.vue","webpack:///./src/views/Users.vue?3b15","webpack:///./src/views/Users.vue?351e","webpack:///./src/views/User.vue?2d50","webpack:///./src/utils/constant.js","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?7bc2","webpack:///./src/views/User.vue?1022","webpack:///./src/views/Profile.vue?0dd1","webpack:///./src/components/forms/PasswordChangeForm.vue?2bd3","webpack:///src/components/forms/PasswordChangeForm.vue","webpack:///./src/components/forms/PasswordChangeForm.vue?81db","webpack:///./src/components/forms/PasswordChangeForm.vue?a32d","webpack:///./src/components/forms/InputForm.vue?5ca3","webpack:///src/components/forms/InputForm.vue","webpack:///./src/components/forms/InputForm.vue?cc2b","webpack:///./src/components/forms/InputForm.vue?d005","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?f5ea","webpack:///./src/views/Profile.vue?2376","webpack:///./src/views/NewKey.vue?54b0","webpack:///src/views/NewKey.vue","webpack:///./src/views/NewKey.vue?2c89","webpack:///./src/views/NewKey.vue?e528","webpack:///./src/views/Periods.vue?7012","webpack:///./src/components/forms/CampusForm.vue?4a3d","webpack:///src/components/forms/CampusForm.vue","webpack:///./src/components/forms/CampusForm.vue?36c2","webpack:///./src/components/forms/CampusForm.vue?f356","webpack:///src/views/Periods.vue","webpack:///./src/views/Periods.vue?0908","webpack:///./src/views/Periods.vue?85fc","webpack:///./src/views/ChangePassword.vue?2be7","webpack:///src/views/ChangePassword.vue","webpack:///./src/views/ChangePassword.vue?ce5e","webpack:///./src/views/ChangePassword.vue?cf36","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?595f","webpack:///./src/views/Classes.vue?01dc","webpack:///./src/views/Users.vue?6bae","webpack:///./src/views/Periods.vue?9125","webpack:///./src/components/forms/FileForm.vue?d8e0","webpack:///./src/components/forms/PasswordChangeForm.vue?c332","webpack:///./src/views/NewClass.vue?aace","webpack:///./src/components/AttendStatusSwitch.vue?d547","webpack:///./src/views/Class.vue?bde3","webpack:///./src/views/Login.vue?df6c","webpack:///./src/components/forms/UserForm.vue?7e5a","webpack:///./src/views/User.vue?88a4","webpack:///./src/assets/images/loginwithfido.png","webpack:///./src/views/ChangePassword.vue?cfa0","webpack:///./src/components/forms/StudentsForm.vue?9e6c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","class","blur","isBackgroundBlur","staticClass","_v","_s","username","on","logout","$t","_e","isLogin","firstLogin","_l","page","active","currentPage","$event","goPage","nameKey","full","staticRenderFns","url","routerName","access","baseURL","process","getClasses","axios","then","rsp","CustomError","msg","status","getClass","no","addClass","classInfo","post","updateClass","put","deleteClass","delete","getCampuses","addCampus","university","periods","start_time","hour","minute","end_time","updateCampus","id","campus","deleteCampus","FIDOLogin","auth","login","account","password","getUsers","getUser","addUser","user","updateUser","newUser","type","classes","addUserKey","deleteUserKey","keyID","updateKeyName","userID","getUserKeys","getUserRecords","getChallenge","getMakeChallenge","checkIsTokenError","response","error","location","href","updateClassStudents","students","updateSigninRecord","records","createSigninSession","signinClass","session","endSigninSession","getSigninSessions","limit","offset","before","importUser","file","formData","FormData","append","headers","deleteUser","importClass","interceptors","use","console","log","message","document","cookie","Promise","reject","Error","show","showLoading","pageConfig","prepared","computed","watch","$route","that","$router","currentRoute","setPage","forEach","indexOf","userInfo","$forceUpdate","methods","mounted","locale","$i18n","$root","$on","$nextTick","secret","token","setToken","component","directives","rawName","expression","domProps","target","composing","showPassword","errMsg","languageOptions","changeLocale","model","callback","$$v","language","doLogin","cancel","imgSrc","loginWithFIDO","accountMode","domain","hostname","stringToArrayBuffer","str","Uint8Array","from","charCodeAt","buffer","arrayBufferToString","arrayBuffer","String","fromCharCode","base64decode","atob","base64encode","byteLength","btoa","displayName","challenge","excludeCredentials","idx","publicKeyCredentialCreationOptions","rp","pubKeyCredParams","alg","authenticatorSelection","authenticatorAttachment","userVerification","requireResidentKey","timeout","attestation","navigator","credentials","publicKey","clientDataJSON","attestationObject","metadata","rpId","userName","residentKey","publicKeyCredentialRequestOptions","allowCredentials","assertion","rawId","userHandle","signature","authenticatorData","localStorage","setItem","$startLoading","setTokenFromCookie","header","sort","labelKey","undefined","sorting","category","campusName","day","showPeriod","teacherName","lateAfter","absenceAfter","popDeleteClass","paddingNumToTwo","num","toString","datetimeToString","date","time","Date","isNaN","getTime","month","getMonth","getDate","getHours","min","getMinutes","sec","getSeconds","getFullYear","dateToString","textKeyMap","getDateTextKey","showSelectFile","fileName","ref","chooseFile","showErr","$refs","fileSelector","click","e","files","reader","addEventListener","File","e2","readAsText","validate","$emit","props","extData","required","h","temp","a","b","bigger","FileForm","ok_msg","cancel_msg","ok","title","clickOutsideClose","Check","loadClasses","goClasses","info","gotoList","goSignIn","editClass","showInfo","student","editStudents","editMode","modeOptions","count","expandRow","continueSession","exportSession","startFIDO","expand","endEdit","startEdit","editing","attend","late","absent","statusText","updateStatus","$set","start","studentAttendMap","text","totalPage","loadSessionPage","opt","val","selected","selectedVal","style","calculateStyle","clickOnOption","default","validator","options","option","background","color","users","newStudent","canAdd","addStudent","removeStudent","allUsers","usersMap","calculateUsers","loadUsers","u","newAllUsers","tMap","filter","0","1","2","getURLParams","urlSplit","params","parts","ret","components","AttendStatusSwitch","showKeys","editSession","sessions","times","studentIDMap","studentMap","pageLimit","expandSessionID","output","misc","record","row","formatSessions","map","JSON","parse","stringify","keys","sessionName","end","StudentsForm","updateStudents","reload","getSessionIsEnd","parseInt","className","endSignin","openNewWindow","attendStudentsCnt","signinTime","newWindow","saveCache","open","timestamp","substr","goClass","checkError","categoryErr","classNoErr","nameErr","campuses","campusErr","dates","dateErr","period","periodErr","teachers","teacher","teacherErr","absentAfter","lateAfterErr","saveClass","campusMap","campusesInfo","timeSetErr","checkData","classIsExist","campusIdx","check","all","hasErr","Array","isArray","errMsgKey","errKey","class_no","find","teacherId","promise","loadData","returnCampuses","importUsers","studentID","allowAccountLogin","popDeleteUser","currentUserType","userTypes","userType","showNameError","showIDError","showAcountCol","unshift","trim","UserForm","goUsers","pageOption","create_time","popDeleteKey","downloadRecords","recordNum","recordLimit","rawInfo","timeStr","key_use_boolean","ip","ADMIN_TYPE","TEACHER_TYPE","STUDENT_TYPE","TimeCol","valueKey","ClassCol","KeyCol","IPCol","userRecordColumnList","LabelSwitch","classInfos","loadUser","setupPage","changePassword","popEditKey","checkPassword","passwordNotEqual","passwordEmpty","uiSet","currentUser","loadUserInfo","saveKey","InputForm","PasswordChangeForm","updatedUser","goProfile","goUser","fido","newKey","needRecheck","inProfile","useExistedKey","deletePeriod","editStartTime","$$selectedVal","_value","editHour","multiple","v","editMinute","invalidTime","saveEdit","cancelEdit","editEndTime","addPeriod","isUserNameTooltipShown","userNameErrorMsg","nameMaxLength","editType","editPeriod","allowHours","allowMinutes","reduce","minutes","CampusForm","newCampus","startHour","startMinute","endMinute","endHour","$notify","group","newPeriod","hours","loadCampuses","notifyException","doSave","save","form","Vue","VueRouter","routes","path","redirect","Login","Periods","Classes","NewClass","Class","SignIn","Users","User","NewKey","Profile","ChangePassword","router","base","Vuex","Store","state","mutations","config","setFirstLogin","setCurrentUser","actions","setCurrentUserID","getters","Tooltip","Loading","vueCookies","Notifications","TextButton","PopWindows","InfoInput","Icon","DropdownSelect","GeneralScrollTable","Paginate","VueI18n","i18n","messages","en","jp","productionTip","store","render","App","$mount"],"mappings":"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","file":"js/index.3e3907cf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=style&index=0&id=1591f2b9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=style&index=0&id=1591f2b9&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputForm.vue?vue&type=style&index=0&id=7e15c5ae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputForm.vue?vue&type=style&index=0&id=7e15c5ae&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=c9999bc6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=c9999bc6&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewKey.vue?vue&type=style&index=0&id=51472f4b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewKey.vue?vue&type=style&index=0&id=51472f4b&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampusForm.vue?vue&type=style&index=0&id=2eaf9f32&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampusForm.vue?vue&type=style&index=0&id=2eaf9f32&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=c9396d44&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=c9396d44&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.prepared)?_c('div',{class:{ blur: _vm.isBackgroundBlur }},[(_vm.isLogin)?_c('div',{attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"user-info\"},[_vm._v(_vm._s(_vm.username))]),_c('text-button',{on:{\"click\":_vm.logout}},[_vm._v(_vm._s(_vm.$t('general.logout')))])],1):_vm._e(),(_vm.isLogin && !_vm.firstLogin)?_c('div',{attrs:{\"id\":\"menu\"}},[_c('div',{staticClass:\"logo\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"system.name\"))+\" \")]),_vm._l((_vm.pageConfig),function(page){return [(page.show)?_c('div',{key:page.key,staticClass:\"nav-item click-button\",class:{ active: _vm.currentPage.key === page.key },on:{\"click\":function($event){return _vm.goPage(page)}}},[_vm._v(\" \"+_vm._s(_vm.$t(page.nameKey))+\" \")]):_vm._e()]})],2):_vm._e(),_c('div',{class:{full: !_vm.isLogin || _vm.firstLogin},attrs:{\"id\":\"content-container\"}},[_c('router-view',{attrs:{\"id\":\"content\"}})],1)]):_vm._e(),(_vm.showLoading)?_c('div',{attrs:{\"id\":\"loading\"}},[_c('div',{staticClass:\"bar\"}),_c('div',{staticClass:\"bar\"}),_c('div',{staticClass:\"bar\"})]):_vm._e(),_c('pop-windows'),_c('notifications',{staticClass:\"notification\",attrs:{\"group\":\"attendance\",\"duration\":5000}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// key: use to specify which menu unit show be highlighed.\n// nameKey: key used in i18n file\n// routerName: used to match loaded route\nexport default [\n  {\n    key: 'periods', nameKey: 'page.periods', url: '/periods', routerName: 'Periods', access: [0],\n  },\n  {\n    key: 'classes', nameKey: 'page.classes', url: '/classes', routerName: 'Classes', access: [0, 1, 2],\n  },\n  {\n    key: 'users', nameKey: 'page.users', url: '/users', routerName: 'Users', access: [0, 1],\n  },\n  {\n    key: 'profile', nameKey: 'page.profile', url: '/profile', routerName: 'Profile', access: [0, 1, 2],\n  },\n];\n","import axios from 'axios';\n// import misc from './misc';\n// import { datetimeToString } from './format';\n\nconst baseURL = process.env.VUE_APP_API_URL;\n\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.log(error.response.data.error);\n    if (error.response\n      && error.response.data\n      && (\n        error.response.data.error === 'invalid_access'\n        || error.response.data.error === 'token_expire'\n        || error.response.data.message === 'invalid_access'\n        || error.response.data.message === 'token_expire'\n      )) {\n      document.cookie = '';\n      window.location.href = '/#/login';\n    }\n    return Promise.reject(error);\n  },\n);\n\n// const classes = [\n//   {\n//     category: 'Basic',\n//     no: 'SEM100J',\n//     campus: 0,\n//     period: 1,\n//     name: '',\n//     teacher: 'Teacher A',\n//     late_after: 10,\n//     absent_after: 15,\n//   },\n//   {\n//     category: 'Basic',\n//     no: 'SEM101J',\n//     campus: 0,\n//     period: 2,\n//     name: 'English',\n//     teacher: 'Teacher E',\n//     late_after: 10,\n//     absent_after: 15,\n//   },\n//   {\n//     category: 'Basic',\n//     no: 'SEM103S',\n//     campus: 0,\n//     period: 3,\n//     name: 'Sport',\n//     teacher: 'Teacher C',\n//     late_after: 10,\n//     absent_after: 15,\n//   }];\n\nexport function getClasses() {\n  return axios.get(`${baseURL}/classes`).then((rsp) => rsp.data);\n  // return new Promise((r) => r(JSON.parse(JSON.stringify(classes))));\n}\n\nfunction CustomError(msg, status) {\n  this.msg = msg;\n  this.status = status;\n}\nCustomError.prototype = Error.prototype;\n\nexport function getClass(no) {\n  return axios.get(`${baseURL}/class/${no}`).then((rsp) => rsp.data);\n}\n\nexport function addClass(classInfo) {\n  return axios.post(`${baseURL}/class`, classInfo);\n}\n\nexport function updateClass(no, classInfo) {\n  return axios.put(`${baseURL}/class/${no}`, classInfo);\n}\n\nexport function deleteClass(no) {\n  return axios.delete(`${baseURL}/class/${no}`).then((rsp) => rsp.data);\n}\n\nexport function getCampuses() {\n  // return new Promise((r) => r(campuses));\n  return axios.get(`${baseURL}/campuses`).then((rsp) => rsp.data);\n}\n\nexport function addCampus(name) {\n  return axios.post(`${baseURL}/campus`, {\n    name,\n    university: 'university',\n    periods: [\n      {\n        start_time: {\n          hour: 9,\n          minute: 10,\n        },\n        end_time: {\n          hour: 10,\n          minute: 0,\n        },\n      },\n    ],\n  });\n}\n\nexport function updateCampus(id, campus) {\n  return axios.put(`${baseURL}/campus/${id}`, campus);\n}\n\nexport function deleteCampus(id) {\n  return axios.delete(`${baseURL}/campus/${id}`);\n}\n\nexport function FIDOLogin(auth) {\n  return axios.post(`${baseURL}/fido_login`, auth).then((rsp) => rsp.data);\n}\n\nexport function login(account, password) {\n  return axios.post(`${baseURL}/login`, {\n    username: account,\n    password,\n  }).then((rsp) => rsp.data);\n}\n\n// const users = [\n//   {\n//     id: misc.randomID(),\n//     studentID: 'rx12345',\n//     name: 'testUser',\n//     type: 1,\n//   },\n// ];\n\nexport function getUsers() {\n  return axios.get(`${baseURL}/users`).then((rsp) => rsp.data);\n}\n\nexport function getUser(id) {\n  return axios.get(`${baseURL}/user/${id}`).then((rsp) => rsp.data);\n}\n\nexport function addUser(user) {\n  return axios.post(`${baseURL}/user`, user).then((rsp) => rsp.data);\n}\n\nexport function updateUser(user) {\n  const newUser = {\n    username: user.username || user.name,\n    id: user.id,\n    type: user.type,\n    classes: [],\n  };\n  if (user.password) {\n    newUser.password = user.password;\n  }\n  return axios.put(`${baseURL}/user/${user.id}`, newUser).then((rsp) => rsp.data);\n}\n\nexport function addUserKey(id, key) {\n  return axios.post(`${baseURL}/user/${id}/key`, key).then((rsp) => rsp.data);\n}\n\nexport function deleteUserKey(id, keyID) {\n  return axios.delete(`${baseURL}/user/${id}/key/${keyID}`).then((rsp) => rsp.data);\n}\n\nexport function updateKeyName(userID, keyID, name) {\n  return axios.put(`${baseURL}/user/${userID}/key`, { name, keyID }).then((rsp) => rsp.data);\n}\n\nexport function getUserKeys(id) {\n  return axios.get(`${baseURL}/user/${id}/keys`).then((rsp) => rsp.data);\n}\n\nexport function getUserRecords(id) {\n  return axios.get(`${baseURL}/user/${id}/records`).then((rsp) => rsp.data);\n}\n\nexport function getChallenge() {\n  return axios.get(`${baseURL}/challenge`).then((rsp) => rsp.data);\n}\n\nexport function getMakeChallenge(id) {\n  return axios.get(`${baseURL}/user/${id}/challenge`).then((rsp) => rsp.data);\n}\n\nexport function checkIsTokenError(response) {\n  if (response.data.error === 'token_expire' || response.data.error === 'invalid_access') {\n    window.location.href = '/#/login';\n  }\n}\n\nexport function logout() {\n  return axios.post(`${baseURL}/logout`).then((rsp) => rsp.data);\n}\n\nexport function updateClassStudents(id, students) {\n  return axios.put(`${baseURL}/class/${id}/students`, students).then((rsp) => rsp.data);\n}\n\nexport function updateSigninRecord(id, records) {\n  return axios.put(`${baseURL}/class/${id}/sign_in`, records).then((rsp) => rsp.data);\n}\n\nexport function createSigninSession(id) {\n  return axios.post(`${baseURL}/class/${id}/sign_in`).then((rsp) => rsp.data);\n}\n\nexport function signinClass(id, session, data) {\n  return axios.put(`${baseURL}/class/${id}/sign_in/${session}`, data).then((rsp) => rsp.data);\n}\n\nexport function endSigninSession(id, session) {\n  return axios.post(`${baseURL}/class/${id}/sign_in/${session}/finish`).then((rsp) => rsp.data);\n}\n\nexport function getSigninSessions(id, limit, offset, before) {\n  if (before) {\n    return axios.get(`${baseURL}/class/${id}/sign_ins?index=${offset || 0}&limit=${limit || 10}&before=${before}`).then((rsp) => rsp.data);\n  }\n  return axios.get(`${baseURL}/class/${id}/sign_ins?index=${offset || 0}&limit=${limit || 10}`).then((rsp) => rsp.data);\n}\n\nexport function importUser(file) {\n  const formData = new FormData();\n  formData.append('file', file, { type: 'text/csv' });\n  return axios.post(`${baseURL}/users`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  }).then((rsp) => rsp.data);\n}\n\nexport function deleteUser(id) {\n  return axios.delete(`${baseURL}/user/${id}`).then((rsp) => rsp.data);\n}\n\nexport function importClass(file) {\n  const formData = new FormData();\n  formData.append('file', file, { type: 'text/csv' });\n  return axios.post(`${baseURL}/classes`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  }).then((rsp) => rsp.data);\n}\n","<template>\n  <div id=\"app\">\n    <div\n      v-if=\"prepared\"\n      :class=\"{ blur: isBackgroundBlur }\"\n    >\n      <div\n        id=\"header\"\n        v-if=\"isLogin\"\n      >\n        <div class=\"user-info\">{{ username }}</div>\n        <text-button @click=\"logout\">{{ $t('general.logout') }}</text-button>\n      </div>\n      <div\n        id=\"menu\"\n        v-if=\"isLogin && !firstLogin\"\n      >\n        <div class=\"logo\">\n          {{ $t(\"system.name\") }}\n        </div>\n        <template v-for=\"page in pageConfig\">\n          <div\n            v-if=\"page.show\"\n            :key=\"page.key\"\n            class=\"nav-item click-button\"\n            :class=\"{ active: currentPage.key === page.key }\"\n            @click=\"goPage(page)\"\n          >\n            {{ $t(page.nameKey) }}\n          </div>\n        </template>\n      </div>\n      <div\n        id=\"content-container\"\n        :class=\"{full: !isLogin || firstLogin}\"\n      >\n        <router-view id=\"content\" />\n      </div>\n    </div>\n    <div\n      id=\"loading\"\n      v-if=\"showLoading\"\n    >\n      <div class=\"bar\" />\n      <div class=\"bar\" />\n      <div class=\"bar\" />\n    </div>\n    <pop-windows />\n    <notifications\n      group=\"attendance\"\n      class=\"notification\"\n      :duration=5000\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  mapState, mapMutations, mapGetters, mapActions,\n} from 'vuex';\nimport pageConfig from '@/config/page';\nimport { logout, getUserKeys } from '@/utils/api';\n\nexport default {\n  data() {\n    pageConfig.forEach((c) => {\n      c.show = true;\n    });\n    return {\n      isBackgroundBlur: false,\n      showLoading: false,\n      pageConfig,\n      prepared: false,\n    };\n  },\n  computed: {\n    ...mapState(['currentPage', 'userInfo', 'firstLogin']),\n    ...mapGetters(['isLogin', 'username']),\n  },\n  watch: {\n    $route() {\n      const that = this;\n      pageConfig.forEach((c) => {\n        if (c.routerName === that.$router.currentRoute.name) {\n          that.setPage(c);\n        }\n      });\n    },\n    username() {\n      const that = this;\n      that.pageConfig.forEach((c) => {\n        c.show = c.access.indexOf(that.userInfo.type) >= 0;\n      });\n      that.$forceUpdate();\n    },\n  },\n  methods: {\n    ...mapActions(['setCurrentUserID']),\n    ...mapMutations(['setPage', 'setToken', 'setFirstLogin']),\n    logout() {\n      logout().finally(() => {\n        this.$router.push('/login');\n      });\n    },\n    goPage(page) {\n      this.setPage(page);\n      this.$router.push(page.url);\n    },\n  },\n  mounted() {\n    const that = this;\n\n    const locale = localStorage.getItem('locale');\n    if (locale) {\n      this.$i18n.locale = locale;\n    }\n\n    that.$root.$on('pop-window', () => {\n      that.$nextTick(() => {\n        that.isBackgroundBlur = true;\n      });\n    });\n    that.$root.$on('close-window', () => {\n      that.$nextTick(() => {\n        that.isBackgroundBlur = false;\n      });\n    });\n    that.$root.$on('start-loading', () => {\n      that.showLoading = true;\n      that.isBackgroundBlur = true;\n    });\n    that.$root.$on('stop-loading', () => {\n      that.showLoading = false;\n      that.isBackgroundBlur = false;\n    });\n\n    pageConfig.forEach((c) => {\n      if (c.routerName === that.$router.currentRoute.name) {\n        that.setPage(c);\n      }\n    });\n    const secret = that.$cookies.get('sd');\n    const token = that.$cookies.get('ut');\n    const user = that.$cookies.get('user');\n    if (that.$router.currentRoute.name !== 'Login' && secret !== null && token !== null) {\n      that.setToken({ secret, token });\n      getUserKeys(user)\n        .then((rsp) => {\n          if (rsp.result.length === 0) {\n            that.setFirstLogin(true);\n          }\n        })\n        .then(() => that.setCurrentUserID(user))\n        .then((data) => {\n          console.log(data);\n          that.pageConfig.forEach((c) => {\n            c.show = c.access.indexOf(data.result.type) >= 0;\n          });\n          that.prepared = true;\n          that.$forceUpdate();\n        });\n    }\n    console.log(!that.isLogin, that.$router.currentRoute.name !== 'Login');\n    if (!that.isLogin && that.$router.currentRoute.name !== 'Login') {\n      console.log('login');\n      that.$router.push('/login');\n      that.prepared = true;\n    } else if (that.$router.currentRoute.name === 'Login') {\n      that.prepared = true;\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"assets/styles/variable.scss\";\n\nbody {\n  margin: 0;\n}\ndiv {\n  margin: 0;\n  box-sizing: border-box;\n}\ninput {\n  color: $color-font-normal;\n  &[disabled] {\n    color: $color-font-disabled;\n  }\n}\ninput[type=\"password\"]::-ms-reveal,\ninput[type=\"password\"]::-ms-clear {\n  display: none;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  & > .blur {\n    filter: blur(5px);\n  }\n\n  #header {\n    height: $header-height;\n    width: calc(100vw - #{$menu-width});\n    position: absolute;\n    left: $menu-width;\n    top: 0;\n    padding-right: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    .text-button {\n      margin-left: 8px;\n    }\n    font-size: 12px;\n  }\n\n  #menu {\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100vh;\n    width: $menu-width;\n    box-shadow: 5px 0 10px 0 rgba(0, 0, 0, 0.08);\n    .logo {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: $header-height;\n      text-align: center;\n      // padding: 0 60px;\n    }\n    .nav-item {\n      height: 52px;\n      line-height: 52px;\n      text-align: center;\n      &.active {\n        background-color: #eaf3ff;\n        border-left: 4px solid $color-primary;\n      }\n    }\n  }\n  #content-container {\n    background: #eeeeee;\n    position: absolute;\n    left: $menu-width;\n    top: $header-height;\n    height: calc(100vh - #{$header-height});\n    width: calc(100vw - #{$menu-width});\n\n    &.full {\n      height: 100vh;\n      width: 100vw;\n      left: 0;\n      top: 0;\n      padding: 0;\n\n      #content {\n        border-radius: 0;\n        box-shadow: none;\n        height: 100vh;\n      }\n    }\n\n    padding: 20px;\n    display: flex;\n    align-items: stretch;\n    justify-content: stretch;\n    & > div,\n    #content {\n      border-radius: 4px;\n      box-shadow: 0 4px 9px 0 rgba(115, 115, 115, 0.2),\n        0 5px 8px 0 rgba(228, 228, 228, 0.5);\n      background: white;\n      width: 100%;\n      height: calc(100vh - 40px - #{$header-height});\n\n      @include auto-overflow();\n      @include customScrollbar();\n\n      display: flex;\n      flex-direction: column;\n      .title {\n        font-size: 16px;\n        &.row {\n          display: flex;\n          align-items: center;\n          .link {\n            text-decoration: underline;\n            color: $active-color;\n          }\n          .seperator {\n            &::before {\n              content: \">\";\n              padding: 0 8px;\n            }\n          }\n        }\n      }\n      .row {\n        flex: 0 0 60px;\n        line-height: 60px;\n        padding-left: 20px;\n        box-shadow: inset 0 -1px 0 0 #e9e9e9;\n        .text-button {\n          margin-right: 8px;\n        }\n      }\n      .block {\n        flex: 1;\n      }\n    }\n  }\n  #loading {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.3);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    font-size: 24px;\n\n    .bar {\n      width: 10px;\n      height: 5px;\n      background: $color-primary;\n      margin: 2px;\n      animation: bar 1s infinite linear;\n\n      &:nth-child(1) {\n        animation-delay: 0s;\n      }\n\n      &:nth-child(2) {\n        animation-delay: 0.25s;\n      }\n\n      &:nth-child(3) {\n        animation-delay: 0.5s;\n      }\n    }\n\n    @keyframes bar {\n      0% {\n        transform: scaleY(1) scaleX(0.5);\n      }\n\n      50% {\n        transform: scaleY(10) scaleX(1);\n      }\n\n      100% {\n        transform: scaleY(1) scaleX(0.5);\n      }\n    }\n  }\n}\n.notification {\n  margin: 20px;\n}\n.pagination {\n  user-select: none;\n  display: inline-block;\n  padding-left: 0;\n  margin: 8px 8px;\n  border-radius: 4px;\n\n  li {\n    display: inline; // Remove list-style and block-level defaults\n    a,\n    span {\n      position: relative;\n      float: left; // Collapse white-space\n      padding: 6px 12px;\n      line-height: 1;\n      text-decoration: none;\n      // color: $color-primary;\n      background-color: #fff;\n      border: 1px solid $color-borderline;\n      margin-left: -1px;\n    }\n    &:first-child {\n      a,\n      span {\n        margin-left: 0;\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n      }\n    }\n    &:last-child {\n      a,\n      span {\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n      }\n    }\n  }\n\n  li a,\n  li span {\n    &:hover,\n    &:focus {\n      z-index: 3;\n      color: $color-primary;\n      background-color: #eee;\n      border-color: $color-borderline-hover;\n      outline: none;\n    }\n  }\n\n  .active a,\n  .active span {\n    &,\n    &:hover,\n    &:focus {\n      z-index: 2;\n      color: $color-primary;\n      background-color: #ddd;\n      // border-color: $color-primary;\n      cursor: default;\n    }\n  }\n\n  .disabled {\n    span,\n    span:hover,\n    span:focus,\n    a,\n    a:hover,\n    a:focus {\n      cursor: not-allowed;\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7a9e8a01&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-form\"},[_c('div',{staticClass:\"logo\"},[_vm._v(_vm._s(_vm.$t('system.name')))]),_c('div',{staticClass:\"input-area\"},[(_vm.accountMode)?[_c('div',{staticClass:\"login-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],attrs:{\"placeholder\":_vm.$t('general.account')},domProps:{\"value\":(_vm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.account=$event.target.value}}})]),_c('div',{staticClass:\"login-row\"},[(!_vm.showPassword)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":_vm.$t('general.password')},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"name\":\"password\",\"placeholder\":_vm.$t('general.password')},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('div',{staticClass:\"toggle-password\"},[(!_vm.showPassword)?_c('icon',{attrs:{\"icon-type\":\"show_password\",\"size\":16},on:{\"click\":function($event){_vm.showPassword = true}}}):_c('icon',{attrs:{\"icon-type\":\"hide_password\",\"size\":16},on:{\"click\":function($event){_vm.showPassword = false}}})],1)]),(_vm.errMsg !== '')?_c('div',{staticClass:\"login-row\"},[_c('div',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.errMsg))])]):_vm._e(),_c('div',{staticClass:\"login-row\"},[_c('dropdown-select',{attrs:{\"options\":_vm.languageOptions},on:{\"input\":_vm.changeLocale},model:{value:(_vm.language),callback:function ($$v) {_vm.language=$$v},expression:\"language\"}})],1),_c('div',{staticClass:\"login-row operation\"},[_c('text-button',{staticClass:\"login-btn\",attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.doLogin}},[_vm._v(_vm._s(_vm.$t('general.login')))]),_c('text-button',{on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('general.cancel')))])],1)]:[_c('div',{staticClass:\"login-row\"},[_c('img',{staticClass:\"fido-login\",attrs:{\"src\":_vm.imgSrc},on:{\"click\":_vm.loginWithFIDO}})]),_c('div',{staticClass:\"login-row\"},[_c('dropdown-select',{staticClass:\"lang-selector\",attrs:{\"options\":_vm.languageOptions},on:{\"input\":_vm.changeLocale},model:{value:(_vm.language),callback:function ($$v) {_vm.language=$$v},expression:\"language\"}})],1),_c('div',{staticClass:\"login-row\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.accountMode = true}}},[_vm._v(_vm._s(_vm.$t('user.login_with_account')))])])]],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getChallenge } from './api';\n\nconst domain = window.location.hostname || 'localhost';\n\nfunction stringToArrayBuffer(str) {\n  return Uint8Array.from(str, (c) => c.charCodeAt(0)).buffer;\n}\nfunction arrayBufferToString(arrayBuffer) {\n  return String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n}\nfunction base64decode(str) {\n  return Uint8Array.from(atob(str), (c) => c.charCodeAt(0));\n}\nfunction base64encode(arrayBuffer) {\n  if (!arrayBuffer || arrayBuffer.byteLength === 0) { return undefined; }\n\n  return btoa(String.fromCharCode.apply(null, new Uint8Array(arrayBuffer)));\n}\nexport function create(userID, name, displayName, challenge, excludeCredentials) {\n  const id = Uint8Array.from(userID, (c) => c.charCodeAt(0));\n  for (let idx = 0; idx < excludeCredentials.length; idx += 1) {\n    excludeCredentials[idx].id = base64decode(excludeCredentials[idx].id);\n  }\n  const publicKeyCredentialCreationOptions = {\n    challenge: stringToArrayBuffer(challenge),\n    rp: {\n      name: 'Students Attendance System',\n      id: domain,\n    },\n    user: {\n      id,\n      name,\n      displayName,\n    },\n    pubKeyCredParams: [{ alg: -7, type: 'public-key' }],\n    authenticatorSelection: {\n      authenticatorAttachment: 'cross-platform',\n      userVerification: 'preferred',\n      requireResidentKey: true,\n    },\n    timeout: 60000,\n    excludeCredentials,\n    attestation: 'direct',\n  };\n  return navigator.credentials.create({\n    publicKey: publicKeyCredentialCreationOptions,\n    userVerification: 'preferred',\n  }).then((data) => ({\n    id: data.id,\n    clientDataJSON: arrayBufferToString(data.response.clientDataJSON),\n    attestationObject: base64encode(data.response.attestationObject),\n    metadata: {\n      rpId: publicKeyCredentialCreationOptions.rp.id,\n      userName: publicKeyCredentialCreationOptions.user.name,\n      residentKey: publicKeyCredentialCreationOptions.authenticatorSelection.requireResidentKey,\n    },\n  }));\n}\n\n// export function get(challenge) {\nexport function get() {\n  return getChallenge().then((d) => {\n    const challenge = d.result;\n    const publicKeyCredentialRequestOptions = {\n      challenge: stringToArrayBuffer(challenge),\n      timeout: 180000,\n      allowCredentials: [],\n      userVerification: 'discouraged',\n    };\n\n    return navigator.credentials.get({\n      publicKey: publicKeyCredentialRequestOptions,\n    }).then((assertion) => ({\n      id: base64encode(assertion.rawId),\n      clientDataJSON: arrayBufferToString(assertion.response.clientDataJSON),\n      userHandle: base64encode(assertion.response.userHandle),\n      signature: base64encode(assertion.response.signature),\n      authenticatorData: base64encode(assertion.response.authenticatorData),\n      metadata: {\n        rpId: publicKeyCredentialRequestOptions.rpId,\n      },\n    }));\n  });\n}\n","<template lang=\"pug\">\n.login\n  .login-form\n    .logo {{ $t('system.name') }}\n    .input-area\n      template(v-if=\"accountMode\")\n        .login-row\n          input(v-model=\"account\", :placeholder=\"$t('general.account')\")\n        .login-row\n          input(\n            v-if=\"!showPassword\",\n            v-model=\"password\",\n            type=\"password\",\n            name=\"password\",\n            :placeholder=\"$t('general.password')\"\n          )\n          input(\n            v-else,\n            v-model=\"password\",\n            name=\"password\",\n            :placeholder=\"$t('general.password')\"\n          )\n          .toggle-password\n            icon(\n              v-if=\"!showPassword\",\n              icon-type=\"show_password\",\n              :size=\"16\",\n              @click=\"showPassword = true\"\n            )\n            icon(\n              v-else,\n              icon-type=\"hide_password\",\n              :size=\"16\",\n              @click=\"showPassword = false\"\n            )\n        .login-row(v-if=\"errMsg !== ''\")\n          .error-msg {{ errMsg }}\n        .login-row\n          dropdown-select(\n            :options=\"languageOptions\",\n            v-model=\"language\",\n            @input=\"changeLocale\"\n          )\n        .login-row.operation\n          text-button.login-btn(button-type=\"primary\", @click=\"doLogin\") {{ $t('general.login') }}\n          text-button(@click=\"cancel\") {{ $t('general.cancel') }}\n      template(v-else)\n        .login-row\n          img.fido-login(:src=\"imgSrc\", @click=\"loginWithFIDO\")\n        .login-row\n          dropdown-select.lang-selector(\n            :options=\"languageOptions\",\n            v-model=\"language\",\n            @input=\"changeLocale\"\n          )\n        .login-row\n          .text-link(@click=\"accountMode = true\") {{ $t('user.login_with_account') }}\n</template>\n\n<script>\nimport { mapMutations, mapActions } from 'vuex';\nimport { login, FIDOLogin, getUser } from '@/utils/api';\nimport { get as getFIDO } from '@/utils/fido';\nimport FIDOLoginImg from '@/assets/images/loginwithfido.png';\n\nexport default {\n  data() {\n    return {\n      imgSrc: FIDOLoginImg,\n      accountMode: false,\n      errMsg: '',\n\n      account: '',\n      password: '',\n      languageOptions: [\n        {\n          text: 'English',\n          value: 'en',\n        },\n        {\n          text: 'Japanese',\n          value: 'jp',\n        },\n      ],\n      showPassword: false,\n      language: ['en'],\n    };\n  },\n  methods: {\n    ...mapActions(['setCurrentUserID']),\n    ...mapMutations(['setToken', 'setPage', 'setFirstLogin']),\n    changeLocale(value) {\n      if (value.length) {\n        [this.$i18n.locale] = value;\n        localStorage.setItem('locale', this.$i18n.locale);\n      }\n    },\n    cancel() {\n      this.accountMode = false;\n      this.account = '';\n      this.password = '';\n    },\n    loginWithFIDO() {\n      const that = this;\n      getFIDO()\n        .then((d) => {\n          that.$startLoading();\n          return FIDOLogin(d);\n        })\n        .then((data) => that.setCurrentUserID(data.result.uid))\n        .then((data) => {\n          that.setTokenFromCookie();\n          that.$cookies.set('user', data.result.id);\n          that.$router.push('/classes');\n          return getUser(data.result.id);\n        })\n        .catch((e) => {\n          // show all error information in loginWithFIDO\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('error.login_fail'),\n            type: 'error',\n            text: that.$t(`error.${e.response.data.error}`),\n          });\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    doLogin() {\n      const that = this;\n      that.$startLoading();\n      let isFirstLogin = false;\n      login(that.account, that.password)\n        .then((data) => {\n          isFirstLogin = data.result.isFirstLogin;\n          return that.setCurrentUserID(data.result.uid);\n        })\n        .then((data) => {\n          that.$endLoading();\n          that.setTokenFromCookie();\n          that.$cookies.set('user', data.result.id);\n          if (isFirstLogin) {\n            that.setFirstLogin(true);\n            that.$router.push({ name: 'ChangePassword' });\n          } else {\n            that.$router.push('/classes');\n          }\n        })\n        .catch((e) => {\n          if (e.response.data.error === 'user_not_allowed_auth') {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('general.login_fail'),\n              type: 'error',\n              text: that.$t(`error.${e.response.data.error}`),\n            });\n          } else {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('error.login_fail'),\n              type: 'error',\n            });\n          }\n          that.$endLoading();\n        });\n    },\n    setTokenFromCookie() {\n      const secret = this.$cookies.get('sd');\n      const token = this.$cookies.get('ut');\n      this.setToken({ secret, token });\n    },\n  },\n  mounted() {\n    this.setToken({ secret: '', token: '' });\n    this.language = [this.$i18n.locale];\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.login {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background-image: url(\"/img/login_bg.png\") !important;\n  background-position: center !important;\n  background-size: cover !important;\n  .login-form {\n    padding: 20px 40px;\n    background-color: rgba(51, 51, 51, 0.35);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .logo {\n      color: white;\n      text-align: center;\n      font-size: 20px;\n      height: 80px;\n      line-height: 80px;\n    }\n    .fido-login {\n      cursor: pointer;\n      user-select: none;\n      display: block;\n      margin: auto;\n      &:hover {\n        transform: scale(1.05);\n        transition: transform 0.25s ease-in-out;\n      }\n    }\n    .text-link {\n      cursor: pointer;\n      user-select: none;\n      // color: $color-primary;\n      text-decoration: underline;\n      font-size: 12px;\n    }\n    .login-btn {\n      margin-right: 8px;\n      border: none;\n    }\n    .login-row {\n      position: relative;\n      margin-bottom: 8px;\n      .dropdown-container {\n        width: 200px;\n        margin: auto;\n        margin-bottom: 20px;\n      }\n      &.operation {\n        margin-top: 20px;\n      }\n      .error-msg {\n        color: $color-error;\n        font-size: 12px;\n      }\n      input {\n        width: 200px;\n        box-sizing: border-box;\n        display: block;\n        margin-left: auto;\n        margin-right: auto;\n      }\n      input[name=\"password\"] {\n        padding-right: 24px;\n      }\n      .toggle-password {\n        position: absolute;\n        top: 2px;\n        right: 16px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=9091d5b4&scoped=true&lang=pug&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=9091d5b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9091d5b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classes\"},[_c('div',{staticClass:\"title row\"},[_vm._v(_vm._s(_vm.$t('page.classes')))]),_c('div',{staticClass:\"row\"},[(_vm.userInfo && _vm.userInfo.type !== 2)?_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.addClass}},[_vm._v(_vm._s(_vm.$t('class.add_class')))]):_vm._e(),(_vm.userInfo && _vm.userInfo.type === 0)?_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.importClass}},[_vm._v(_vm._s(_vm.$t('general.import')))]):_vm._e()],1),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"t-row header\"},[_vm._l((_vm.headers),function(header){return _c('div',{staticClass:\"t-cell sortable\",class:header.class,on:{\"click\":function($event){return _vm.sort(header)}}},[_c('div',{staticClass:\"tr-title\"},[_vm._v(_vm._s(_vm.$t(header.labelKey)))]),_c('div',{staticClass:\"tr-sort\"},[(header.sorting === undefined)?[_vm._v(\"\")]:(header.sorting)?[_vm._v(\"\")]:[_vm._v(\"\")]],2)])}),_c('div',{staticClass:\"t-cell late_time\"},[_vm._v(_vm._s(_vm.$t('class.lateAfter')))]),_c('div',{staticClass:\"t-cell absent_time\"},[_vm._v(_vm._s(_vm.$t('class.absenceAfter')))]),_c('div',{staticClass:\"t-cell actions\"},[_vm._v(_vm._s(_vm.$t('general.actions')))])],2),_vm._l((_vm.classes),function(c){return _c('div',{key:c.no,staticClass:\"t-row\"},[_c('div',{staticClass:\"t-cell category\"},[_vm._v(_vm._s(c.category))]),_c('div',{staticClass:\"t-cell campus\"},[_vm._v(_vm._s(c.campusName))]),_c('div',{staticClass:\"t-cell day\"},[_vm._v(_vm._s(c.day))]),_c('div',{staticClass:\"t-cell period\"},[_vm._v(_vm._s(c.showPeriod))]),_c('div',{staticClass:\"t-cell no\"},[_c('span',[_vm._v(_vm._s(c.id))])]),_c('div',{staticClass:\"t-cell name\"},[_vm._v(_vm._s(c.name))]),_c('div',{staticClass:\"t-cell teacher\"},[_vm._v(_vm._s(c.teacherName))]),_c('div',{staticClass:\"t-cell late_time\"},[_vm._v(_vm._s(c.lateAfter))]),_c('div',{staticClass:\"t-cell absent_time\"},[_vm._v(_vm._s(c.absenceAfter))]),_c('div',{staticClass:\"t-cell actions\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.$router.push((\"/class/\" + (c.id)))}}},[_vm._v(_vm._s(_vm.$t('general.view')))]),(_vm.userInfo && _vm.userInfo.type !== 2)?_c('div',{staticClass:\"text-link danger\",on:{\"click\":function($event){return _vm.popDeleteClass(c)}}},[_vm._v(_vm._s(_vm.$t('general.delete')))]):_vm._e()])])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function paddingNumToTwo(num) {\n  return num >= 10 ? num.toString() : `0${num}`;\n}\n\nexport function datetimeToString(date) {\n  const time = new Date(date);\n\n  // eslint-disable-next-line no-restricted-globals\n  if (isNaN(time.getTime())) {\n    return '';\n  }\n\n  const month = paddingNumToTwo(time.getMonth() + 1);\n  const day = paddingNumToTwo(time.getDate());\n  const hour = paddingNumToTwo(time.getHours());\n  const min = paddingNumToTwo(time.getMinutes());\n  const sec = paddingNumToTwo(time.getSeconds());\n\n  return `${time.getFullYear()}/${month}/${day} ${hour}:${min}:${sec}`;\n}\n\nexport function dateToString(date) {\n  const month = paddingNumToTwo(date.getMonth() + 1);\n  const day = paddingNumToTwo(date.getDate());\n\n  return `${date.getFullYear()}${month}${day}`;\n}\n\nconst textKeyMap = [\n  'general.sunday',\n  'general.monday',\n  'general.tuesday',\n  'general.wednesday',\n  'general.thursday',\n  'general.friday',\n  'general.saturday',\n];\nexport function getDateTextKey(value) {\n  return textKeyMap[value];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-form\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('file.choose_import_file')))]),_c('div',{staticClass:\"row\"},[_c('text-button',{on:{\"click\":_vm.showSelectFile}},[_vm._v(_vm._s(_vm.$t('file.select_csv')))]),_c('div',{staticClass:\"file-name\"},[_vm._v(_vm._s(_vm.fileName))]),_c('input',{ref:\"fileSelector\",attrs:{\"type\":\"file\",\"hidden\":\"\"},on:{\"change\":_vm.chooseFile}})],1),(_vm.showErr)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.$t('file.err_csv_file_not_choose')))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.file-form\n  .title {{ $t('file.choose_import_file') }}\n  .row\n    text-button(@click=\"showSelectFile\") {{ $t('file.select_csv') }}\n    .file-name {{ fileName }}\n    input(type=\"file\", @change=\"chooseFile\", hidden, ref=\"fileSelector\")\n  .row(v-if=\"showErr\")\n    .error {{ $t('file.err_csv_file_not_choose') }}\n</template>\n\n<script>\nexport default {\n  name: 'FileForm',\n  data() {\n    return {\n      file: undefined,\n      showErr: false,\n      fileName: '',\n    };\n  },\n  methods: {\n    showSelectFile() {\n      this.$refs.fileSelector.click();\n    },\n    chooseFile(e) {\n      const that = this;\n      console.log(e.target.files);\n      if (e.target.files.length > 0) {\n        // eslint-disable-next-line prefer-destructuring\n        // that.file = e.target.files[0];\n        const fileName = e.target.files[0].name;\n        that.fileName = 'Loading file...';\n\n        const reader = new FileReader();\n        reader.addEventListener('load', (e2) => {\n          that.file = new File([e2.target.result], fileName, { type: 'text/csv' });\n          that.fileName = fileName;\n        });\n\n        reader.readAsText(e.target.files[0]);\n      }\n    },\n    validate() {\n      if (this.file !== undefined) {\n        this.$emit('validateSuccess', this.file);\n      } else {\n        this.showErr = true;\n      }\n    },\n  },\n  mounted() {\n    this.$on('validate', this.validate);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.file-form {\n  min-width: 300px;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  .row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    margin-top: 8px;\n    .file-name {\n      margin-left: 8px;\n    }\n    .error {\n      color: $color-error;\n      font-size: 0.8em;\n    }\n    input {\n      visibility: hidden;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileForm.vue?vue&type=template&id=c35b55b8&scoped=true&lang=pug&\"\nimport script from \"./FileForm.vue?vue&type=script&lang=js&\"\nexport * from \"./FileForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileForm.vue?vue&type=style&index=0&id=c35b55b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c35b55b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check\"},[_vm._v(_vm._s(_vm.msg))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.check {{ msg }}\n</template>\n\n<script>\nexport default {\n  props: {\n    extData: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    msg() {\n      return this.extData ? this.extData.msg : '';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.check {\n  padding: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Check.vue?vue&type=template&id=1591f2b9&scoped=true&lang=pug&\"\nimport script from \"./Check.vue?vue&type=script&lang=js&\"\nexport * from \"./Check.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Check.vue?vue&type=style&index=0&id=1591f2b9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1591f2b9\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.classes\n  .title.row {{ $t('page.classes') }}\n  .row\n    text-button(\n      button-type=\"primary\",\n      @click=\"addClass\"\n      v-if=\"userInfo && userInfo.type !== 2\"\n    ) {{ $t('class.add_class') }}\n    text-button(\n      button-type=\"primary\",\n      @click=\"importClass\",\n      v-if=\"userInfo && userInfo.type === 0\"\n    ) {{ $t('general.import') }}\n  .block\n    .table\n      .t-row.header\n        .t-cell.sortable(\n          v-for=\"header in headers\",\n          :class=\"header.class\",\n          @click=\"sort(header)\"\n        )\n          .tr-title {{ $t(header.labelKey) }}\n          .tr-sort\n            template(v-if=\"header.sorting === undefined\") \n            template(v-else-if=\"header.sorting\") \n            template(v-else) \n        .t-cell.late_time {{ $t('class.lateAfter') }}\n        .t-cell.absent_time {{ $t('class.absenceAfter') }}\n        .t-cell.actions {{ $t('general.actions') }}\n      .t-row(v-for=\"c in classes\", :key=\"c.no\")\n        .t-cell.category {{ c.category }}\n        .t-cell.campus {{ c.campusName }}\n        .t-cell.day {{ c.day }}\n        .t-cell.period {{ c.showPeriod }}\n        .t-cell.no\n          span {{ c.id }}\n        .t-cell.name {{ c.name }}\n        .t-cell.teacher {{ c.teacherName }}\n        .t-cell.late_time {{ c.lateAfter }}\n        .t-cell.absent_time {{ c.absenceAfter }}\n        .t-cell.actions\n          .text-link(@click=\"$router.push(`/class/${c.id}`)\") {{ $t('general.view') }}\n          .text-link.danger(\n            @click=\"popDeleteClass(c)\"\n            v-if=\"userInfo && userInfo.type !== 2\"\n          ) {{ $t('general.delete') }}\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {\n  getClasses, getCampuses, deleteClass, importClass,\n} from '@/utils/api';\nimport { paddingNumToTwo, getDateTextKey } from '@/utils/format';\nimport FileForm from '@/components/forms/FileForm.vue';\nimport Check from '@/components/forms/Check.vue';\n\nexport default {\n  data() {\n    return {\n      classes: [],\n      headers: [\n        {\n          labelKey: 'class.category', class: 'category', key: 'category', sorting: undefined,\n        },\n        {\n          labelKey: 'class.campusName', class: 'campus', key: 'campusName', sorting: undefined,\n        },\n        {\n          labelKey: 'class.day', class: 'day', key: 'day', sorting: undefined,\n        },\n        {\n          labelKey: 'class.period', class: 'period', key: 'showPeriod', sorting: undefined,\n        },\n        {\n          labelKey: 'class.class_no', class: 'no', key: 'id', sorting: undefined,\n        },\n        {\n          labelKey: 'class.name', class: 'name', key: 'name', sorting: undefined,\n        },\n        {\n          labelKey: 'class.teacherName', class: 'teacher', key: 'teacherName', sorting: undefined,\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapState(['userInfo']),\n  },\n  methods: {\n    sort(header) {\n      const that = this;\n      if (header.sorting !== undefined) {\n        header.sorting = !header.sorting;\n      } else {\n        header.sorting = true;\n      }\n      that.headers.forEach((h) => {\n        if (h !== header) {\n          h.sorting = undefined;\n        }\n      });\n      const temp = JSON.parse(JSON.stringify(that.classes));\n\n      temp.sort((a, b) => {\n        const bigger = header.sorting ? 1 : -1;\n        return a[header.key] > b[header.key] ? bigger : bigger * -1;\n      });\n      that.classes = temp;\n\n      that.$forceUpdate();\n    },\n    importClass() {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: FileForm,\n        ok_msg: that.$t('general.upload'),\n        cancel_msg: that.$t('general.cancel'),\n        callback: {\n          ok: (file) => {\n            that.$startLoading();\n            importClass(file)\n              .then((rsp) => {\n                console.log(rsp);\n                const { total } = rsp.result;\n                const { fail } = rsp.result;\n                const msgKey = fail === 0 ? 'class.import_success_msg' : 'class.import_fail_msg';\n                that.$notify({\n                  group: 'attendance',\n                  title: fail === 0 ? that.$t('general.success') : that.$t('general.result'),\n                  type: fail === 0 ? 'success' : 'warn',\n                  text: that.$t(msgKey, { total, fail }),\n                });\n              })\n              .catch((e) => {\n                const errMsgValid = that.$te(`error.${e.response.data.error}`);\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.update_fail'),\n                  type: 'error',\n                  text: errMsgValid ? that.$t(`error.${e.response.data.error}`) : e.response.data.error,\n                });\n              })\n              .finally(() => {\n                that.$endLoading();\n                that.loadClasses();\n              });\n          },\n        },\n        title: that.$t('class.import_class'),\n        validate: true,\n        clickOutsideClose: false,\n      });\n    },\n    popDeleteClass(c) {\n      console.log(c);\n      const that = this;\n      const msg = that.$t('class.delete_class_msg', { name: c.name });\n      that.$root.$emit('pop-window', {\n        component: Check,\n        ok_msg: that.$t('general.delete'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          msg,\n        },\n        callback: {\n          ok: () => {\n            console.log('ok');\n            deleteClass(c.id)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.delete_success'),\n                  type: 'success',\n                });\n              })\n              .finally(() => {\n                that.loadClasses();\n              });\n          },\n        },\n        title: that.$t('class.delete_class'),\n        validate: false,\n        clickOutsideClose: false,\n      });\n    },\n    addClass() {\n      const that = this;\n      that.$router.push({ name: 'NewClass', params: { id: '' } });\n    },\n    loadClasses() {\n      const that = this;\n      let datas = [];\n\n      that.$startLoading();\n      getClasses()\n        .then((data) => {\n          datas = data.result.map((d) => ({\n            ...d,\n            day: that.$t(getDateTextKey(d.date)),\n          }));\n          datas.forEach((d) => {\n            d.actions = [\n              'view',\n              'delete',\n            ];\n          });\n        })\n        .then(() => getCampuses()\n          .then((data) => {\n            const compuses = data.result;\n            const campusMap = {};\n            compuses.forEach((c) => {\n              campusMap[c.name] = c;\n            });\n            datas.forEach((c) => {\n              const campus = campusMap[c.campusName];\n              const period = campus.periods[c.period - 1];\n              c.showCampus = campus.name;\n              c.showPeriod = `${c.period} - ${paddingNumToTwo(period.start_time.hour)}:${paddingNumToTwo(period.start_time.minute)}`;\n            });\n          })\n          .catch(() => {\n            console.log('Get campus info fail');\n            datas.forEach((c) => {\n              c.showCampus = c.campusName;\n              c.showPeriod = c.period;\n            });\n          }))\n        .then(() => {\n          that.classes = datas;\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n  },\n  mounted() {\n    this.loadClasses();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  @include auto-overflow();\n  @include customScrollbar();\n  .table {\n    font-size: 12px;\n    display: flex;\n    flex-direction: column;\n    .t-row {\n      flex: 0 0 36px;\n      line-height: 36px;\n      &.header {\n        .t-cell {\n          background: #fcfcfc;\n        }\n      }\n      .t-cell {\n        border-bottom: 1px solid #e9e9e9;\n        overflow: hidden;\n        span {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          width: 100%;\n          display: block;\n        }\n      }\n\n      display: flex;\n      flex-direction: row;\n      .category {\n        flex: 0 0 120px;\n      }\n      .campus {\n        flex: 0 0 120px;\n      }\n      .day {\n        flex: 0 0 88px;\n      }\n      .period {\n        flex: 0 0 80px;\n      }\n      .no {\n        flex: 0 0 120px;\n      }\n      .name {\n        flex: 0 0 120px;\n      }\n      .teacher {\n        flex: 0 0 120px;\n      }\n      .late_time {\n        flex: 0 0 80px;\n      }\n      .absent_time {\n        flex: 0 0 100px;\n      }\n      .actions {\n        flex: 1 0 100px;\n        .text-link {\n          margin-right: 8px;\n          color: $color-primary;\n          display: inline-block;\n          text-decoration: underline;\n          &.danger {\n            color: $color-error;\n          }\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n      .t-cell {\n        padding-left: 20px;\n        display: flex;\n        align-items: baseline;\n        .tr-sort {\n          margin-left: 8px;\n        }\n        &.sortable {\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classes.vue?vue&type=template&id=01fa3224&scoped=true&lang=pug&\"\nimport script from \"./Classes.vue?vue&type=script&lang=js&\"\nexport * from \"./Classes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Classes.vue?vue&type=style&index=0&id=01fa3224&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01fa3224\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"class\"},[_c('div',{staticClass:\"title row\"},[_c('span',{staticClass:\"click-button link\",on:{\"click\":_vm.goClasses}},[_vm._v(_vm._s(_vm.$t('page.classes')))]),_c('div',{staticClass:\"seperator\"}),_c('span',[_vm._v(_vm._s(_vm.id)+\" \"+_vm._s(_vm.info.name))])]),_c('div',{staticClass:\"row\"},[_c('text-button',{on:{\"click\":function($event){return _vm.gotoList()}}},[_vm._v(_vm._s(_vm.$t('general.back_list')))]),(_vm.userInfo && _vm.userInfo.type === 1)?_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.goSignIn}},[_vm._v(_vm._s(_vm.$t('signin.start_sign_in')))]):_vm._e()],1),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"session-title\"},[_c('span',[_vm._v(_vm._s(_vm.$t('class.class_information')))]),(_vm.userInfo && _vm.userInfo.type !== 2)?_c('icon',{staticClass:\"click-button\",attrs:{\"icon-type\":\"edit\",\"size\":20},on:{\"click\":_vm.editClass}}):_vm._e()],1),_c('div',{staticClass:\"information\"},_vm._l((_vm.showKeys),function(key){return _c('div',{key:key,staticClass:\"info-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t((\"class.\" + key))))]),_c('div',{staticClass:\"value\"},[_c('span',[_vm._v(_vm._s(_vm.showInfo[key]))]),(key === 'lateAfter' || key === 'absenceAfter')?_c('span',{staticClass:\"mr-l-8\"},[[_vm._v(_vm._s(_vm.$t('general.min')))]],2):_vm._e()])])}),0)]),_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"session-title\"},[_vm._v(_vm._s(_vm.$t('general.students')))]),_c('div',{staticClass:\"attend-students\"},_vm._l((_vm.students),function(student){return _c('div',{staticClass:\"student\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(student.username))]),_c('div',{staticClass:\"id\"},[_vm._v(\"- \"+_vm._s(student.id))])])}),0),_c('div',{staticClass:\"operation\"},[(_vm.userInfo && _vm.userInfo.type !== 2)?_c('text-button',{on:{\"click\":_vm.editStudents}},[_vm._v(_vm._s(_vm.$t('general.edit')))]):_vm._e()],1)]),_c('div',{staticClass:\"session session-table\"},[_c('div',{staticClass:\"session-title\"},[_vm._v(_vm._s(_vm.$t('class.sign_record')))]),(!_vm.editMode && _vm.userInfo && _vm.userInfo.type !== 2)?_c('label-switch',{attrs:{\"options\":_vm.modeOptions},model:{value:(_vm.mode),callback:function ($$v) {_vm.mode=$$v},expression:\"mode\"}}):_vm._e(),(_vm.mode === 'date')?_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"t-header\"},[_c('div',{staticClass:\"t-row header\"},[_c('div',{staticClass:\"t-cell name\"},[_vm._v(_vm._s(_vm.$t('class.sign_session')))]),_c('div',{staticClass:\"t-cell start\"},[_vm._v(_vm._s(_vm.$t('class.sign_start_time')))]),_c('div',{staticClass:\"t-cell count\"},[_vm._v(_vm._s(_vm.$t('class.sign_students')))]),_c('div',{staticClass:\"t-cell actions\"},[_vm._v(_vm._s(_vm.$t('general.actions')))])])]),_c('div',{staticClass:\"t-body\"},[_vm._l((_vm.sessions),function(s){return [_c('div',{key:s.start_time,staticClass:\"t-row\"},[_c('div',{staticClass:\"t-cell name\"},[_vm._v(_vm._s(s.name))]),_c('div',{staticClass:\"t-cell start\"},[_vm._v(_vm._s(s.start_time))]),_c('div',{staticClass:\"t-cell count\"},[_vm._v(_vm._s(s.count))]),_c('div',{staticClass:\"t-cell actions\"},[(!_vm.editMode)?[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.expandRow(s)}}},[_vm._v(_vm._s(_vm.$t('general.detail')))]),(s.end_time === '' && _vm.userInfo && _vm.userInfo.type === 1)?_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.continueSession(s)}}},[_vm._v(_vm._s(_vm.$t('general.continue')))]):_vm._e(),_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.exportSession(s)}}},[_vm._v(_vm._s(_vm.$t('general.export')))]),(s.end_time === '' && _vm.userInfo && _vm.userInfo.type === 2)?_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.startFIDO(s)}}},[_vm._v(_vm._s(_vm.$t('signin.start_fido')))]):_vm._e()]:_vm._e()],2)]),_c('transition',{key:s.start_time,attrs:{\"enter-active-class\":\"fade-enter-active\",\"leave-active-class\":\"fade-leave-active\"}},[(s.expand)?_c('div',{key:s.start_time,staticClass:\"t-expand\"},[(s.expand && _vm.userInfo && _vm.userInfo.type === 1)?_c('div',{staticClass:\"operation-row\"},[(!_vm.editMode)?_c('text-button',{on:{\"click\":function($event){return _vm.startEdit(s)}}},[_c('span',[_vm._v(_vm._s(_vm.$t('class.edit_status')))])]):_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.endEdit}},[_c('span',[_vm._v(_vm._s(_vm.$t('class.end_edit_status')))])])],1):_vm._e(),_c('div',{staticClass:\"students\"},_vm._l((s.students),function(student){return _c('div',{key:student.name,staticClass:\"student\",class:{ editing: _vm.editMode }},[_c('div',{staticClass:\"student-name\"},[_vm._v(_vm._s(student.name))]),_c('div',{staticClass:\"student-id\"},[_vm._v(_vm._s(student.id))]),(!_vm.editMode)?_c('div',{staticClass:\"student-status attend-status\",class:{\n                      attend: student.status === 0,\n                      late: student.status === 1,\n                      absent: student.status === 2}},[_vm._v(_vm._s(student.statusText))]):_vm._e(),(_vm.editMode)?_c('div',{staticClass:\"student-status\"},[_c('status-switch',{on:{\"change\":function($event){return _vm.updateStatus(student, $event)}},model:{value:(student.status),callback:function ($$v) {_vm.$set(student, \"status\", $$v)},expression:\"student.status\"}})],1):_vm._e()])}),0)]):_vm._e()])]})],2)]):_vm._e(),(_vm.mode === 'student')?_c('div',{staticClass:\"scroll-table\"},[_c('div',{staticClass:\"fixed-column\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"t-cell\"},[_vm._v(_vm._s(_vm.$t('general.student')))]),_vm._l((_vm.students),function(student){return _c('div',{staticClass:\"t-cell\"},[_vm._v(_vm._s(student.username))])})],2),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"t-cell\"},[_vm._v(_vm._s(_vm.$t('general.id')))]),_vm._l((_vm.students),function(student){return _c('div',{staticClass:\"t-cell\"},[_vm._v(_vm._s(student.id))])})],2)]),_c('div',{staticClass:\"scroll-column\"},[_vm._l((_vm.times),function(time){return _c('div',{key:time.start,staticClass:\"column\"},[_c('div',{staticClass:\"t-cell\"},[_vm._v(_vm._s(time.name))]),_vm._l((_vm.students),function(student){return _c('div',{key:student.id,staticClass:\"t-cell\"},[(_vm.studentAttendMap[student.id][time.start] !== undefined)?[_c('span',{staticClass:\"attend-status\",class:{\n                      attend: _vm.studentAttendMap[student.id][time.start].status === 0,\n                      late: _vm.studentAttendMap[student.id][time.start].status === 1,\n                      absent: _vm.studentAttendMap[student.id][time.start].status === 2}},[_vm._v(_vm._s(_vm.studentAttendMap[student.id][time.start].text))])]:[_c('span',{staticClass:\"attend-status absent\"},[_vm._v(_vm._s(_vm.$t('signin.absent')))])]],2)})],2)}),_c('div',{staticClass:\"column stretch\"},[_c('div',{staticClass:\"t-cell\"}),_vm._l((_vm.students),function(student){return _c('div',{key:student.id,staticClass:\"t-cell\"})})],2)],2)]):_vm._e(),(_vm.totalPage > 1)?_c('paginate',{attrs:{\"page-count\":_vm.totalPage,\"prev-text\":\"Prev\",\"next-text\":\"Next\",\"click-handler\":_vm.loadSessionPage,\"container-class\":'pagination',\"page-class\":'page-item'},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"label-switch\"},[_vm._l((_vm.options),function(opt){return [_c('div',{key:opt.val,staticClass:\"option\",class:{ selected: opt.val === _vm.selectedVal },style:(_vm.calculateStyle(opt)),on:{\"click\":function($event){return _vm.clickOnOption(opt)}}},[_vm._v(\" \"+_vm._s(opt.text)+\" \")])]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"label-switch\">\n    <template v-for=\"opt in options\">\n      <div\n        :key=\"opt.val\"\n        class=\"option\"\n        @click=\"clickOnOption(opt)\"\n        :class=\"{ selected: opt.val === selectedVal }\"\n        :style=\"calculateStyle(opt)\"\n      >\n        {{ opt.text }}\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'label-switch',\n  props: {\n    value: {\n      // type cannot check for two type, use validator\n      required: false,\n      default: undefined,\n      validator: (v) => (typeof v === 'number' || typeof v === 'string'),\n    },\n    default: {\n      required: false,\n      default: undefined,\n      validator: (v) => (typeof v === 'number' || typeof v === 'string'),\n    },\n  },\n  watch: {\n    value(val) {\n      this.selectedVal = val;\n    },\n  },\n  data() {\n    return {\n      selectedVal: undefined,\n      options: [],\n    };\n  },\n  methods: {\n    clickOnOption(option) {\n      this.selectedVal = option.val;\n      this.$emit('change', option.val);\n      this.$emit('input', option.val);\n    },\n    calculateStyle(opt) {\n      return opt.val === this.selectedVal ? {\n        background: opt.background || 'black',\n        color: opt.color || 'white',\n      } : {};\n    },\n  },\n  mounted() {\n    // validator check that options must has more than one option\n    this.options = [\n      {\n        val: 0,\n        text: this.$t('signin.attend'),\n        background: '#666666',\n        color: 'white',\n      },\n      {\n        val: 1,\n        text: this.$t('signin.late'),\n        background: '#f68c6d ',\n        color: 'white',\n      },\n      {\n        val: 2,\n        text: this.$t('signin.absent'),\n        background: '#fd0008',\n        color: 'white',\n      },\n    ];\n    this.selectedVal = this.value || this.default || this.options[0].val;\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable\";\n\n$border-color: $color-borderline;\n$border-radius: 2px;\n$font-size: 12px;\n$line-height: 18px;\n\n$active-background: $color-primary;\n$active-border-color: $color-primary;\n\n.label-switch {\n  background: #ffffff;\n  width: auto;\n  display: inline-flex;\n  align-items: center;\n  font-size: $font-size;\n  line-height: $line-height;\n}\n\n.option {\n  padding: 4px 15px;\n\n  white-space: nowrap;\n  display: inline-block;\n  border: 1px solid $border-color;\n  border-left: none;\n  cursor: pointer;\n  user-select: none;\n  transition: border-color 300ms;\n\n  &:first-child {\n    border-left: 1px solid $border-color;\n    border-top-left-radius: $border-radius;\n    border-bottom-left-radius: $border-radius;\n  }\n  &:last-child {\n    border-top-right-radius: $border-radius;\n    border-bottom-right-radius: $border-radius;\n  }\n\n  // &.selected {\n  //   box-shadow: inset 0 -1px 0 0 $active-border-color;\n  //   border-bottom: solid 1px $active-border-color;\n  // }\n\n  &:hover {\n    background: $color-disabled;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendStatusSwitch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendStatusSwitch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttendStatusSwitch.vue?vue&type=template&id=76186e39&scoped=true&\"\nimport script from \"./AttendStatusSwitch.vue?vue&type=script&lang=js&\"\nexport * from \"./AttendStatusSwitch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttendStatusSwitch.vue?vue&type=style&index=0&id=76186e39&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76186e39\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"students-form\"},[_c('div',{staticClass:\"operation\"},[_c('dropdown-select',{attrs:{\"options\":_vm.users,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.newStudent),callback:function ($$v) {_vm.newStudent=$$v},expression:\"newStudent\"}}),_c('text-button',{attrs:{\"button-type\":_vm.canAdd ? '' : 'disable'},on:{\"click\":_vm.addStudent}},[_vm._v(_vm._s(_vm.$t('general.add')))])],1),_c('div',{staticClass:\"students\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('class.attend_students')))]),(_vm.students.length > 0)?_c('div',{staticClass:\"list\"},_vm._l((_vm.students),function(student,idx){return _c('div',{staticClass:\"student\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(student.username))]),_c('div',{staticClass:\"id\"},[_vm._v(\"- \"+_vm._s(student.id))]),_c('div',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.removeStudent(idx)}}},[_vm._v(\"x\")])])}),0):_c('div',{staticClass:\"list\"},[_vm._v(_vm._s(_vm.$t('class.no_students')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.students-form\n  .operation\n    dropdown-select(\n      v-model=\"newStudent\",\n      :options=\"users\",\n      width=\"150px\",\n      fixed-list-width\n    )\n    text-button(@click=\"addStudent\", :button-type=\"canAdd ? '' : 'disable'\") {{ $t('general.add') }}\n  .students\n    .title {{ $t('class.attend_students') }}\n    .list(v-if=\"students.length > 0\")\n      .student(v-for=\"(student, idx) in students\")\n        .name {{ student.username }}\n        .id - {{ student.id }}\n        .delete(@click=\"removeStudent(idx)\") x\n    .list(v-else) {{ $t('class.no_students') }}\n</template>\n\n<script>\nimport { getUsers } from '@/utils/api';\n\nexport default {\n  props: {\n    extData: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      students: [],\n      newStudent: [],\n      allUsers: [],\n      usersMap: {},\n      users: [],\n    };\n  },\n  computed: {\n    canAdd() {\n      return this.newStudent.length > 0;\n    },\n  },\n  methods: {\n    validate() {\n      this.$emit('validateSuccess', this.students);\n    },\n    addStudent() {\n      const id = this.newStudent[0];\n      const user = this.usersMap[id];\n      this.students.push({\n        id: user.id,\n        username: user.username,\n      });\n      this.newStudent = [];\n      this.calculateUsers();\n    },\n    removeStudent(idx) {\n      this.students.splice(idx, 1);\n      this.calculateUsers();\n      this.$forceUpdate();\n    },\n    loadUsers() {\n      const that = this;\n      getUsers().then((data) => {\n        const newAllUsers = [];\n        that.usersMap = {};\n        data.result.forEach((u) => {\n          if (u.type !== 2) {\n            return;\n          }\n          newAllUsers.push({\n            text: u.username,\n            value: u.id,\n          });\n          that.usersMap[u.id] = u;\n        });\n        that.allUsers = newAllUsers;\n        that.calculateUsers();\n      });\n    },\n    calculateUsers() {\n      const tMap = {};\n      this.students.forEach((s) => {\n        tMap[s.id] = true;\n      });\n      console.log(tMap);\n      this.users = this.allUsers.filter((u) => !tMap[u.value]);\n    },\n  },\n  mounted() {\n    const that = this;\n    console.log(that.extData);\n    that.students = that.extData.students;\n    that.$on('validate', () => {\n      that.validate();\n    });\n    that.loadUsers();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.students-form {\n  width: 500px;\n  padding: 0 20px;\n  .students {\n    margin-top: 20px;\n    .title {\n      font-weight: bold;\n    }\n    .list {\n      margin-top: 8px;\n      display: flex;\n      flex-wrap: wrap;\n      .student {\n        display: flex;\n        align-items: center;\n        margin-right: 8px;\n\n        background: #eee;\n        padding: 4px;\n        border-radius: 4px;\n        .name {\n          margin-right: 4px;\n        }\n        .id {\n          font-size: 10px;\n        }\n        .delete {\n          color: $color-error;\n          margin-left: 4px;\n          cursor: pointer;\n          user-select: none;\n        }\n      }\n    }\n  }\n  .operation {\n    display: flex;\n    .text-button {\n      margin-left: 8px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentsForm.vue?vue&type=template&id=4a8b92e4&scoped=true&lang=pug&\"\nimport script from \"./StudentsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentsForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StudentsForm.vue?vue&type=style&index=0&id=4a8b92e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a8b92e4\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.class\n  .title.row\n    span.click-button.link(@click=\"goClasses\") {{ $t('page.classes') }}\n    .seperator\n    span {{ id }} {{ info.name }}\n  .row\n    text-button(@click=\"gotoList()\") {{ $t('general.back_list') }}\n    text-button(\n      v-if=\"userInfo && userInfo.type === 1\",\n      button-type=\"primary\",\n      @click=\"goSignIn\"\n    ) {{ $t('signin.start_sign_in') }}\n  .block\n    .session\n      .session-title\n        span {{ $t('class.class_information') }}\n        icon.click-button(\n          icon-type=\"edit\"\n          :size=\"20\"\n          @click=\"editClass\"\n          v-if=\"userInfo && userInfo.type !== 2\"\n        )\n      .information\n        .info-row(v-for=\"key in showKeys\", :key=\"key\")\n          .name {{ $t(`class.${key}`) }}\n          .value\n            span {{ showInfo[key] }}\n            span.mr-l-8(v-if=\"key === 'lateAfter' || key === 'absenceAfter'\")\n              template {{ $t('general.min') }}\n    .session\n      .session-title {{ $t('general.students') }}\n      .attend-students\n        .student(v-for=\"student in students\")\n          .name {{ student.username }}\n          .id - {{ student.id }}\n      .operation\n        text-button(\n          @click=\"editStudents\"\n          v-if=\"userInfo && userInfo.type !== 2\"\n        ) {{ $t('general.edit') }}\n    .session.session-table\n      .session-title {{ $t('class.sign_record') }}\n      label-switch(\n        :options=\"modeOptions\"\n        v-model=\"mode\"\n        v-if=\"!editMode && userInfo && userInfo.type !== 2\")\n      .table(v-if=\"mode === 'date'\")\n        .t-header\n          .t-row.header\n            .t-cell.name {{ $t('class.sign_session') }}\n            .t-cell.start {{ $t('class.sign_start_time') }}\n            .t-cell.count {{ $t('class.sign_students') }}\n            .t-cell.actions {{ $t('general.actions') }}\n        .t-body\n          template(v-for=\"s in sessions\")\n            .t-row(:key=\"s.start_time\")\n              .t-cell.name {{ s.name }}\n              .t-cell.start {{ s.start_time }}\n              .t-cell.count {{ s.count }}\n              .t-cell.actions\n                template(v-if=\"!editMode\")\n                  .text-link(@click=\"expandRow(s)\") {{ $t('general.detail') }}\n                  .text-link(\n                    @click=\"continueSession(s)\",\n                    v-if=\"s.end_time === '' && userInfo && userInfo.type === 1\"\n                  ) {{ $t('general.continue') }}\n                  .text-link(@click=\"exportSession(s)\") {{ $t('general.export') }}\n                  .text-link(\n                    @click=\"startFIDO(s)\"\n                    v-if=\"s.end_time === '' && userInfo && userInfo.type === 2\"\n                  ) {{$t('signin.start_fido')}}\n            transition(\n              enter-active-class=\"fade-enter-active\",\n              leave-active-class=\"fade-leave-active\",\n              :key=\"s.start_time\"\n            )\n              .t-expand(v-if=\"s.expand\", :key=\"s.start_time\")\n                .operation-row(\n                  v-if=\"s.expand && userInfo && userInfo.type === 1\"\n                )\n                  text-button(v-if=\"!editMode\", @click=\"startEdit(s)\")\n                    span {{ $t('class.edit_status') }}\n                  text-button(v-else, button-type=\"primary\", @click=\"endEdit\")\n                    span {{ $t('class.end_edit_status') }}\n                .students\n                  .student(\n                    v-for=\"student in s.students\",\n                    :key=\"student.name\",\n                    :class=\"{ editing: editMode }\"\n                  )\n                    .student-name {{ student.name }}\n                    .student-id {{ student.id }}\n                    .student-status.attend-status(\n                      :class=`{\n                      attend: student.status === 0,\n                      late: student.status === 1,\n                      absent: student.status === 2}`,\n                      v-if=\"!editMode\"\n                    ) {{ student.statusText }}\n                    .student-status(v-if=\"editMode\")\n                      status-switch(\n                        v-model=\"student.status\",\n                        @change=\"updateStatus(student, $event)\"\n                      )\n      .scroll-table(v-if=\"mode === 'student'\")\n        .fixed-column\n          .column\n            .t-cell {{ $t('general.student') }}\n            .t-cell(v-for=\"student in students\") {{ student.username }}\n          .column\n            .t-cell {{ $t('general.id') }}\n            .t-cell(v-for=\"student in students\") {{ student.id }}\n        .scroll-column\n          .column(v-for=\"time in times\", :key=\"time.start\")\n            .t-cell {{ time.name }}\n            .t-cell(v-for=\"student in students\", :key=\"student.id\")\n              template(\n                v-if=\"studentAttendMap[student.id][time.start] !== undefined\"\n              )\n                span.attend-status(\n                  :class=`{\n                      attend: studentAttendMap[student.id][time.start].status === 0,\n                      late: studentAttendMap[student.id][time.start].status === 1,\n                      absent: studentAttendMap[student.id][time.start].status === 2}`\n                ) {{ studentAttendMap[student.id][time.start].text }}\n              template(v-else)\n                span.attend-status.absent {{ $t('signin.absent') }}\n          .column.stretch\n            .t-cell\n            .t-cell(v-for=\"student in students\", :key=\"student.id\")\n      paginate(\n        v-if=\"totalPage > 1\",\n        :page-count=\"totalPage\",\n        prev-text=\"Prev\",\n        next-text=\"Next\",\n        v-model=\"currentPage\",\n        :click-handler=\"loadSessionPage\",\n        :container-class=\"'pagination'\",\n        :page-class=\"'page-item'\"\n      )\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {\n  getClass, getCampuses, updateClassStudents, createSigninSession,\n  getSigninSessions, getUsers, updateSigninRecord, signinClass,\n} from '@/utils/api';\nimport {\n  paddingNumToTwo, getDateTextKey, dateToString, datetimeToString,\n} from '@/utils/format';\nimport AttendStatusSwitch from '@/components/AttendStatusSwitch.vue';\nimport StudentsForm from '@/components/forms/StudentsForm.vue';\nimport misc from '@/utils/misc';\nimport { get as FIDOGet } from '@/utils/fido';\n\nconst statusTextKeyMap = {\n  0: 'signin.attend',\n  1: 'signin.late',\n  2: 'signin.absent',\n};\n\nfunction getURLParams() {\n  const url = window.location.href;\n  const urlSplit = url.split('?');\n  if (urlSplit.length < 2) {\n    return {};\n  }\n  const params = urlSplit[1].split('&');\n  const ret = {};\n  params.forEach((param) => {\n    const parts = param.split('=');\n    if (parts.length < 2) {\n      ret[parts[0]] = '';\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      ret[parts[0]] = parts[1];\n    }\n  });\n  return ret;\n}\n\nexport default {\n  props: {\n    id: {\n      type: String,\n    },\n  },\n  components: {\n    'status-switch': AttendStatusSwitch,\n  },\n  data() {\n    return {\n      info: {},\n      showInfo: {},\n      showKeys: [\n        'class_no', 'campusName',\n        'category', 'period',\n        'name', 'lateAfter',\n        'day', 'absenceAfter',\n        'teacherName',\n      ],\n\n      editMode: false,\n      editSession: undefined,\n\n      mode: 'date',\n      modeOptions: [\n        {\n          val: 'date',\n          text: this.$t('class.group_by_date'),\n        },\n        {\n          val: 'student',\n          text: this.$t('class.group_by_student'),\n        },\n      ],\n      sessions: [],\n      students: [],\n      times: [],\n      studentIDMap: {},\n      studentAttendMap: {},\n\n      studentMap: {},\n      pageLimit: 10,\n      totalPage: 1,\n      currentPage: 1,\n      expandSessionID: undefined,\n    };\n  },\n  computed: {\n    ...mapState(['userInfo']),\n  },\n  methods: {\n    exportSession(s) {\n      console.log(s);\n      let output = '\\ufeffID, Name, Status\\n';\n      s.students.forEach((student) => {\n        output += `${student.id},${student.name},${student.statusText}\\n`;\n      });\n      const data = new Blob([output], { type: 'text/csv' });\n      misc.downloadRawFile(data, `${this.id}_${s.name}.csv`);\n    },\n    editClass() {\n      this.$router.push({ name: 'EditClass', params: { id: this.id } });\n    },\n    goClasses() {\n      this.$router.push({ name: 'Classes' });\n    },\n    updateStatus(student, status) {\n      console.log(student, status);\n      const record = {\n        status,\n        student: student.id,\n        session: this.editSession.title,\n      };\n      updateSigninRecord(this.id, [record])\n        .then(() => {\n          this.$notify({\n            group: 'attendance',\n            title: this.$t('general.update_success'),\n            type: 'success',\n          });\n          student.statusText = this.$t(statusTextKeyMap[status]);\n        })\n        .catch((e) => {\n          this.$notify({\n            group: 'attendance',\n            title: this.$t('general.update_fail'),\n            type: 'warn',\n            text: this.$t(`error.${e.response.data.message}`),\n          });\n        });\n    },\n    expandRow(row) {\n      this.sessions.forEach((s) => {\n        s.expand = false;\n      });\n      row.expand = true;\n      this.expandSessionID = row.title;\n    },\n    continueSession(row) {\n      console.log(row);\n      this.$router.push(`/class/${this.id}/signin/${row.title}?start=${row.start}`);\n    },\n    formatSessions(sessions) {\n      const that = this;\n      that.studentAttendMap = {};\n      that.students.forEach((s) => {\n        that.studentAttendMap[s.id] = {};\n      });\n\n      that.times = [];\n      that.sessions = sessions.map((s) => {\n        const start = new Date(parseInt(s.start, 10));\n        const end = new Date(parseInt(s.end, 10));\n        const studentMap = {};\n        s.records.forEach((r) => {\n          // when student is not set or record is earlier\n          if (studentMap[r.student] === undefined\n            || (r.time !== 0\n              && (studentMap[r.student].time === 0\n                || studentMap[r.student].time > r.time))) {\n            studentMap[r.student] = r;\n          }\n        });\n        const sessionName = dateToString(start);\n        let students = [];\n        if (that.userInfo.type === 2) {\n          const status = studentMap[that.userInfo.id] ? studentMap[that.userInfo.id].status : 2;\n          let statusText = that.$t(statusTextKeyMap[status]);\n          if (status === 2 && studentMap[that.userInfo.id] !== undefined\n              && studentMap[that.userInfo.id].time !== 0) {\n            statusText = that.$t('signin.signed_but_absent');\n          }\n          students = [{\n            name: that.userInfo.name,\n            id: that.userInfo.id,\n            time: (studentMap[that.userInfo.id]\n              ? datetimeToString(new Date(studentMap[that.userInfo.id].time)).substr(11, 5) : ''),\n            status,\n            statusText,\n          }];\n        } else {\n          students = JSON.parse(JSON.stringify(that.students)).map((student) => {\n            const status = studentMap[student.id] ? studentMap[student.id].status : 2;\n            let statusText = that.$t(statusTextKeyMap[status]);\n            if (status === 2 && studentMap[student.id] !== undefined\n              && studentMap[student.id].time !== 0) {\n              statusText = that.$t('signin.signed_but_absent');\n            }\n\n            return {\n              name: student.username,\n              id: student.id,\n              time: (studentMap[student.id]\n                ? datetimeToString(new Date(studentMap[student.id].time)).substr(11, 5) : ''),\n              status,\n              statusText,\n            };\n          });\n        }\n\n        Object.keys(studentMap).forEach((id) => {\n          if (!that.studentAttendMap[id]) {\n            return;\n          }\n          let text = that.$t(statusTextKeyMap[studentMap[id].status]);\n          if (studentMap[id].status === 2 && studentMap[id] !== undefined\n            && studentMap[id].time !== 0) {\n            text = that.$t('signin.signed_but_absent');\n          }\n          that.studentAttendMap[id][s.start] = {\n            status: studentMap[id].status,\n            text,\n          };\n        });\n\n        that.times.push({\n          start: s.start,\n          name: sessionName,\n        });\n\n        return {\n          name: sessionName,\n          start_time: datetimeToString(start),\n          start: s.start,\n          end_time: datetimeToString(end),\n          title: s.title,\n          // count: Object.keys(studentMap).filter((k) => studentMap[k].status !== 2).length,\n          count: Object.keys(studentMap).filter((k) => studentMap[k].time !== 0).length,\n          expand: s.title === that.expandSessionID,\n          students,\n        };\n      });\n      that.$forceUpdate();\n    },\n    gotoList() {\n      this.$router.push({ name: 'Classes' });\n    },\n    // startEdit() {\n    startEdit(session) {\n      this.editMode = true;\n      this.editSession = session;\n    },\n    endEdit() {\n      this.editMode = false;\n      this.editSession = undefined;\n      this.loadSessionPage();\n    },\n    editStudents() {\n      const that = this;\n      this.$root.$emit('pop-window', {\n        component: StudentsForm,\n        ok_msg: that.$t('general.save'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          students: JSON.parse(JSON.stringify(that.info.students)),\n        },\n        callback: {\n          ok: (students) => {\n            console.log(students);\n            that.updateStudents(students)\n              .then(() => {\n                this.$notify({\n                  group: 'attendance',\n                  title: this.$t('general.update_success'),\n                  type: 'success',\n                });\n                that.reload();\n              })\n              .catch((e) => {\n                this.$notify({\n                  group: 'attendance',\n                  title: this.$t('general.update_fail'),\n                  type: 'warn',\n                  text: this.$t(`error.${e.response.data.message}`),\n                });\n              });\n          },\n        },\n        title: that.$t('class.edit_students'),\n        validate: true,\n      });\n    },\n    updateStudents(students) {\n      return updateClassStudents(this.id, students);\n    },\n    goSignIn() {\n      const that = this;\n      createSigninSession(that.id).then((data) => {\n        this.$router.push(`/class/${this.id}/signin/${data.result.title}`);\n      });\n    },\n    loadSessionPage(page) {\n      console.log(page);\n      const that = this;\n      const offset = (page - 1) * that.pageLimit;\n      return getSigninSessions(that.id, that.pageLimit, offset)\n        .then((data) => {\n          that.totalPage = parseInt((data.result.total - 1) / that.pageLimit, 10) + 1;\n          that.formatSessions(data.result.records);\n        });\n    },\n    reload() {\n      const that = this;\n      that.$startLoading();\n      return getClass(that.id)\n        .then((rsp) => {\n          that.info = rsp.result;\n          that.showInfo = JSON.parse(JSON.stringify(rsp.result));\n          that.students = that.info.students;\n          delete that.showInfo.id;\n          delete that.showInfo.teacherId;\n          delete that.showInfo.students;\n          that.showInfo.day = that.$t(getDateTextKey(that.showInfo.date));\n        })\n        .then(() => getCampuses())\n        .then((data) => {\n          const compuses = data.result;\n          const campusMap = {};\n          compuses.forEach((c) => {\n            campusMap[c.name] = c;\n          });\n          const campus = campusMap[that.info.campusName];\n          const period = campus.periods[that.info.period - 1];\n          that.showInfo.campusName = campus.name;\n          that.showInfo.period = `${that.info.period} ( ${paddingNumToTwo(period.start_time.hour)}:${paddingNumToTwo(period.start_time.minute)} )`;\n        })\n        .then(() => getUsers())\n        .then((data) => {\n          that.studentMap = {};\n          data.result.forEach((d) => {\n            if (d.type !== 2) {\n              return;\n            }\n            that.studentMap[d.id] = d;\n          });\n        })\n        .then(() => that.loadSessionPage(that.currentPage))\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    startFIDO(s) {\n      const that = this;\n      return that.getSessionIsEnd(s)\n        .then((ret) => {\n          console.log(ret);\n          if (ret) {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('error.update_fail'),\n              type: 'warn',\n              text: that.$t('error.session_is_end'),\n            });\n            that.$router.push(`/class/${that.id}`);\n            return '';\n          }\n          return FIDOGet()\n            .then((d) => {\n              console.log(d);\n              return signinClass(that.id, s.title, d)\n                .then((data) => {\n                  const userID = data.result.student;\n                  const { time } = data.result;\n                  let name = '';\n                  that.students.forEach((st) => {\n                    if (st.id === userID) {\n                      st.status = 0;\n                      st.statusText = that.$t('signin.attend');\n                      // remain houre:minute only\n                      st.signinTime = datetimeToString(time).substr(11, 5);\n                      name = st.username;\n                    }\n                  });\n                  that.reload();\n                  that.$notify({\n                    group: 'attendance',\n                    title: that.$t('general.success'),\n                    type: 'success',\n                    text: that.$t('signin.signin_user_success', { user: name }),\n                  });\n                })\n                .catch((e) => {\n                  console.log(e.response.data.error);\n                  that.$notify({\n                    group: 'attendance',\n                    title: that.$t('error.sign_fail'),\n                    type: 'warn',\n                    text: that.$t(`error.${e.response.data.error}`),\n                  });\n                });\n            });\n        })\n        .catch((e) => {\n          console.log(e);\n          return that.getSessionIsEnd();\n        })\n        .then((ret) => {\n          if (ret) {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('error.update_fail'),\n              type: 'warn',\n              text: that.$t('error.session_is_end'),\n            });\n            that.$router.push(`/class/${that.id}`);\n          }\n        });\n    },\n    getSessionIsEnd(s) {\n      const that = this;\n      // load data if signin session is recovered\n      const params = getURLParams();\n      console.log(params);\n\n      const parts = s.title.split('_');\n      const start = parts[parts.length - 1] || params.start;\n\n      if (start) {\n        return getSigninSessions(that.id, 1, 0, parseInt(start, 10) + 1)\n          .then((rsp) => {\n            const idx = rsp.result.records.findIndex((r) => r.title === s.title);\n            return rsp.result.records[idx].end !== '';\n          });\n      }\n      return new Promise((r) => r(false));\n    },\n  },\n  mounted() {\n    this.reload();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  @include auto-overflow();\n  @include customScrollbar();\n  display: flex;\n  flex-direction: column;\n  .session {\n    flex: 0 0 auto;\n  }\n  .session-table {\n    @include auto-overflow();\n    @include customScrollbar();\n    flex: 0 0 auto;\n  }\n}\n.session {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: column;\n  .session-title {\n    font-weight: bold;\n    padding: 8px 20px;\n    display: flex;\n    align-items: center;\n    .icon {\n      margin-left: 8px;\n    }\n  }\n  .attend-students {\n    padding: 0px 20px;\n    display: flex;\n    flex-wrap: wrap;\n    .student {\n      display: flex;\n      align-items: center;\n      margin-right: 8px;\n\n      background: #eee;\n      padding: 4px;\n      border-radius: 4px;\n      .name {\n        margin-right: 4px;\n      }\n      .id {\n        font-size: 10px;\n      }\n    }\n  }\n  .operation {\n    margin-top: 8px;\n    padding: 0px 20px;\n  }\n  .information {\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    flex-wrap: wrap;\n    padding: 0px 20px;\n\n    .info-row {\n      display: flex;\n      align-items: center;\n      // justify-content: space-between;\n      flex: 0 0 400px;\n      &:nth-child(2n) {\n        flex-basis: calc(100% - 540px);\n      }\n      margin-right: 60px;\n      padding: 8px 20px;\n      .name {\n        flex: 0 0 120px;\n        text-align: right;\n        margin-right: 20px;\n      }\n      .value {\n        flex: 0 0 200px;\n        display: flex;\n        align-items: center;\n        .icon {\n          margin-left: 8px;\n        }\n      }\n    }\n  }\n  .table {\n    border-top: 1px solid #e9e9e9;\n    font-size: 12px;\n    display: flex;\n    flex-direction: column;\n    @include auto-overflow();\n    @include customScrollbar();\n    .t-header {\n      flex: 0 0 32px;\n    }\n    .t-body {\n      flex: 1;\n      @include auto-overflow();\n      @include customScrollbar();\n    }\n    .t-row {\n      flex: 0 0 36px;\n      line-height: 36px;\n      &.header {\n        background: #fcfcfc;\n      }\n      &:hover {\n        background: #f9f9f9;\n        cursor: pointer;\n      }\n      border-bottom: 1px solid #e9e9e9;\n\n      display: flex;\n      flex-direction: row;\n      .name {\n        flex: 0 0 120px;\n      }\n      .start {\n        flex: 0 0 150px;\n      }\n      .count {\n        flex: 0 0 140px;\n      }\n      .actions {\n        flex: 1;\n        .text-link {\n          margin-right: 8px;\n          color: $color-primary;\n          display: inline-block;\n          text-decoration: underline;\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n      .t-cell {\n        padding-left: 20px;\n        height: 36px;\n        display: flex;\n        align-items: center;\n      }\n    }\n    .t-expand {\n      border-bottom: 1px solid #e9e9e9;\n      box-shadow: inset 0 0 8px #e0e9e9;\n      overflow: hidden;\n      .operation-row {\n        padding: 8px 20px;\n      }\n    }\n\n    .fade-enter-active {\n      animation: go 0.5s ease-in-out;\n    }\n    .fade-leave-active {\n      animation: back 0.5s ease-in-out;\n    }\n  }\n\n  .scroll-table {\n    border-top: 1px solid #e9e9e9;\n    font-size: 12px;\n    display: flex;\n    .fixed-column {\n      flex: 0 0 256px;\n      display: flex;\n    }\n    .scroll-column {\n      flex: 1;\n      display: flex;\n      @include auto-overflow();\n      @include customScrollbar();\n    }\n    .column {\n      display: flex;\n      flex-direction: column;\n\n      flex: 0 0 128px;\n      &.stretch {\n        flex: 1;\n      }\n      .t-cell {\n        flex: 0 0 36px;\n        text-align: center;\n        border-bottom: 1px solid #e9e9e9;\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .t-cell:first-child {\n        background: #fcfcfc;\n      }\n      &:last-child {\n        .t-cell {\n          border-right: 1px solid #e9e9e9;\n        }\n      }\n    }\n  }\n}\n.students {\n  display: flex;\n  flex-wrap: wrap;\n  .student {\n    flex: 0 0 220px;\n    &.editing {\n      flex: 0 0 320px;\n    }\n    margin: 8px 20px;\n\n    display: flex;\n    align-items: center;\n    .student-id {\n      margin-left: 8px;\n      color: $color-font-mark;\n    }\n    .student-status {\n      margin-left: 8px;\n    }\n  }\n}\n.attend-status {\n  &.late {\n    color: $color-warning;\n  }\n  &.absent {\n    color: $color-error;\n  }\n}\n\n.mr-l-8 {\n  margin-left: 8px;\n}\n\n@keyframes go {\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 100vh;\n  }\n}\n\n@keyframes back {\n  from {\n    max-height: 100vh;\n  }\n  to {\n    max-height: 0;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Class.vue?vue&type=template&id=cb6a43cc&scoped=true&lang=pug&\"\nimport script from \"./Class.vue?vue&type=script&lang=js&\"\nexport * from \"./Class.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Class.vue?vue&type=style&index=0&id=cb6a43cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb6a43cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in\"},[_c('div',{staticClass:\"title row\"},[_vm._v(_vm._s(_vm.$t('signin.classes'))+\" > \"+_vm._s(_vm.id)+\" \"+_vm._s(_vm.className)+\" > \"+_vm._s(_vm.day || _vm.$t('signin.sign_in')))]),_c('div',{staticClass:\"row\"},[_c('text-button',{on:{\"click\":_vm.endSignin}},[_vm._v(_vm._s(_vm.$t('signin.end_sign_in')))]),_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.startFIDO}},[_vm._v(_vm._s(_vm.$t('signin.start_fido')))])],1),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"title-row\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('signin.list_of_signed_student')))]),_c('div',{staticClass:\"link\",on:{\"click\":_vm.openNewWindow}},[_vm._v(_vm._s(_vm.$t('signin.view_in_new_window')))])]),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.$t('signin.number_of_student_sign_in', {num: _vm.attendStudentsCnt})))]),_c('div',{staticClass:\"students\"},_vm._l((_vm.students),function(student,idx){return _c('div',{key:student.id,staticClass:\"student\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(student.username)+\" (\"+_vm._s(student.id)+\")\")]),_c('div',{staticClass:\"bar\"}),_c('div',{staticClass:\"status\",class:{             absent: student.status === 2,             late: student.status === 1,             attend: student.status === 0 }},[_vm._v(_vm._s(student.statusText)),(student.signinTime)?_c('div',{staticClass:\"time\"},[_vm._v(\"(\"+_vm._s(student.signinTime)+\")\")]):_vm._e()])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.sign-in\n  .title.row {{$t('signin.classes')}} > {{ id }} {{ className }} > {{day || $t('signin.sign_in')}}\n  .row\n    text-button(@click=\"endSignin\") {{$t('signin.end_sign_in')}}\n    text-button(button-type=\"primary\", @click=\"startFIDO\") {{$t('signin.start_fido')}}\n  .block\n    .title-row\n      .title {{$t('signin.list_of_signed_student')}}\n      .link(@click=\"openNewWindow\") {{$t('signin.view_in_new_window')}}\n    .list\n      .info {{$t('signin.number_of_student_sign_in', {num: attendStudentsCnt})}}\n      .students\n        .student(v-for=\"(student, idx) in students\", :key=\"student.id\")\n          .name {{ student.username }} ({{ student.id }})\n          .bar\n          .status( :class=\"{ \\\n            absent: student.status === 2, \\\n            late: student.status === 1, \\\n            attend: student.status === 0 }\") {{ student.statusText }}\n            .time(v-if=\"student.signinTime\") ({{ student.signinTime }})\n</template>\n\n<script>\nimport {\n  getClass, signinClass, endSigninSession, getSigninSessions,\n} from '@/utils/api';\nimport { get as FIDOGet } from '@/utils/fido';\nimport { datetimeToString } from '@/utils/format';\n\nfunction getURLParams() {\n  const url = window.location.href;\n  const urlSplit = url.split('?');\n  if (urlSplit.length < 2) {\n    return {};\n  }\n  const params = urlSplit[1].split('&');\n  const ret = {};\n  params.forEach((param) => {\n    const parts = param.split('=');\n    if (parts.length < 2) {\n      ret[parts[0]] = '';\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      ret[parts[0]] = parts[1];\n    }\n  });\n  return ret;\n}\n\nexport default {\n  props: {\n    id: {\n      type: String,\n    },\n    session: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      students: [],\n      newWindow: undefined,\n      attendStudentsCnt: 0,\n      className: '',\n      day: '',\n    };\n  },\n  computed: {\n  },\n  methods: {\n    startFIDO() {\n      const that = this;\n      return that.getSessionIsEnd()\n        .then((ret) => {\n          console.log(ret);\n          if (ret) {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('error.update_fail'),\n              type: 'warn',\n              text: that.$t('error.session_is_end'),\n            });\n            that.$router.push(`/class/${that.id}`);\n            return '';\n          }\n          return FIDOGet()\n            .then((d) => {\n              console.log(d);\n              return signinClass(that.id, that.session, d)\n                .then((data) => {\n                  const userID = data.result.student;\n                  const { time } = data.result;\n                  let name = '';\n                  that.students.forEach((s) => {\n                    if (s.id === userID) {\n                      s.status = 0;\n                      s.statusText = that.$t('signin.attend');\n                      // remain houre:minute only\n                      s.signinTime = datetimeToString(time).substr(11, 5);\n                      name = s.username;\n                    }\n                  });\n                  that.attendStudentsCnt = that.students.filter(\n                    (s) => s.signinTime !== undefined,\n                  ).length;\n                  that.saveCache();\n                  that.$notify({\n                    group: 'attendance',\n                    title: that.$t('general.success'),\n                    type: 'success',\n                    text: that.$t('signin.signin_user_success', { user: name }),\n                  });\n                  that.$nextTick(() => {\n                    that.$forceUpdate();\n                  });\n                })\n                .catch((e) => {\n                  console.log(e.response.data.error);\n                  that.$notify({\n                    group: 'attendance',\n                    title: that.$t('error.sign_fail'),\n                    type: 'warn',\n                    text: that.$t(`error.${e.response.data.error}`),\n                  });\n                })\n                .then(() => that.startFIDO());\n            });\n        })\n        .catch((e) => {\n          console.log(e);\n          return that.getSessionIsEnd();\n        })\n        .then((ret) => {\n          if (ret) {\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('error.update_fail'),\n              type: 'warn',\n              text: that.$t('error.session_is_end'),\n            });\n            that.$router.push(`/class/${that.id}`);\n          }\n        });\n    },\n    saveCache() {\n      localStorage.setItem('signin_students', JSON.stringify(this.students));\n    },\n    endSignin() {\n      const that = this;\n      that.getSessionIsEnd()\n        .then((ret) => {\n          console.log(ret);\n          return ret ? '' : endSigninSession(that.id, that.session);\n        })\n        .then(() => {\n          if (that.newWindow) {\n            that.newWindow.close();\n          }\n          localStorage.removeItem('signin_students');\n          that.$router.push(`/class/${that.id}`);\n        });\n    },\n    openNewWindow() {\n      this.newWindow = window.open(\n        '/signin.html',\n        'signinpage',\n        'menubar=no,location=no,resizable=yes,scrollbars=yes,status=yes,width=500px,height=500px',\n      );\n    },\n    getSessionIsEnd() {\n      const that = this;\n      // load data if signin session is recovered\n      const params = getURLParams();\n      console.log(params);\n\n      const parts = that.session.split('_');\n      const start = parts[parts.length - 1] || params.start;\n\n      if (start) {\n        return getSigninSessions(that.id, 1, 0, parseInt(start, 10) + 1)\n          .then((rsp) => {\n            const idx = rsp.result.records.findIndex((r) => r.title === that.session);\n            return rsp.result.records[idx].end !== '';\n          });\n      }\n      return new Promise((r) => r(false));\n    },\n  },\n  mounted() {\n    const that = this;\n    let students = [];\n    that.$startLoading();\n    getClass(that.id)\n      .then((data) => {\n        console.log(data);\n        that.className = data.result.name;\n        students = data.result.students;\n        students.forEach((s) => {\n          s.status = 2;\n          s.statusText = that.$t('signin.not_sign_in');\n        });\n        that.attendStudentsCnt = 0;\n\n        // load data if signin session is recovered\n        const params = getURLParams();\n        console.log(params);\n\n        const parts = that.session.split('_');\n        const start = parts[parts.length - 1] || params.start;\n\n        if (start) {\n          return getSigninSessions(that.id, 1, 0, parseInt(start, 10) + 1)\n            .then((rsp) => {\n              console.log(rsp);\n              const idx = rsp.result.records.findIndex((r) => r.title === that.session);\n              if (idx < 0) {\n                that.$router.push(`/class/${that.id}`);\n                return [];\n              }\n              if (rsp.result.records[idx].end !== '') {\n                that.$router.push(`/class/${that.id}`);\n              }\n              return rsp.result.records[idx].records;\n            })\n            .then((records) => {\n              records.forEach((record) => {\n                const idx = students.findIndex((s) => s.id === record.student);\n                console.log(record.student, idx);\n                if (idx >= 0) {\n                  if (record.time !== 0\n                    && (students[idx].time === undefined || students[idx].time > record.time)) {\n                    students[idx].time = record.time;\n                    students[idx].status = record.status;\n                    // remain houre:minute only\n                    students[idx].statusText = that.$t('signin.attend');\n                    students[idx].signinTime = datetimeToString(record.time).substr(11, 5);\n                  }\n                }\n              });\n              that.$forceUpdate();\n            });\n        }\n        return '';\n      })\n      .then(() => {\n        that.students = students;\n        that.attendStudentsCnt = that.students.filter(\n          (s) => s.signinTime !== undefined,\n        ).length;\n      })\n      .finally(() => {\n        that.saveCache();\n        that.$endLoading();\n      });\n    const [, timestamp] = that.session.split('_');\n    that.day = datetimeToString(parseInt(timestamp, 10)).substr(0, 10);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n.block {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n\n  .title-row {\n    display: flex;\n    align-items: center;\n    .title {\n      margin-right: 8px;\n    }\n    .link {\n      font-size: 12px;\n      text-decoration: underline;\n      color: $active-color;\n      user-select: none;\n      cursor: pointer;\n    }\n  }\n  .list {\n    border: 1px solid $color-borderline;\n    flex: 1;\n    margin-top: 8px;\n    padding: 8px;\n    .info {\n      margin-bottom: 20px;\n    }\n    .students {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      align-content: flex-start;\n      .student {\n        flex: 0 0 320px;\n        &:nth-child(2n) {\n          flex: 1;\n          flex-basis: calc(100% - 480px);\n        }\n        display: flex;\n        align-items: center;\n        // justify-content: space-between;\n        margin-right: 80px;\n        .name {\n          flex: 0 0 160px;\n          margin-right: 8px;\n        }\n        .status {\n          flex: 0 0 auto;\n          text-align: left;\n          white-space: nowrap;\n          font-size: 12px;\n          &.late {\n            color: $color-warning;\n          }\n          display: flex;\n          align-items: center;\n          .time {\n            margin-left: 4px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=c9999bc6&scoped=true&lang=pug&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignIn.vue?vue&type=style&index=0&id=c9999bc6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9999bc6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new-class\",attrs:{\"id\":\"content\"}},[(!_vm.editMode)?_c('div',{staticClass:\"title row\"},[_c('span',{staticClass:\"click-button link\",on:{\"click\":_vm.goClasses}},[_vm._v(\" \"+_vm._s(_vm.$t('page.classes'))+\" \")]),_c('div',{staticClass:\"seperator\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('class.add_class'))+\" \")])]):_vm._e(),(_vm.editMode)?_c('div',{staticClass:\"title row\"},[_c('span',{staticClass:\"click-button link\",on:{\"click\":_vm.goClasses}},[_vm._v(\" \"+_vm._s(_vm.$t('page.classes'))+\" \")]),_c('div',{staticClass:\"seperator\"}),_c('span',{staticClass:\"click-button link\",on:{\"click\":_vm.goClass}},[_vm._v(\" \"+_vm._s(_vm.id)+\" \")]),_c('div',{staticClass:\"seperator\"}),_vm._v(\" \"+_vm._s(_vm.$t('class.edit_class'))+\" \")]):_vm._e(),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"class-form\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.category')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('class.info_category'),\"fill\":\"\"},on:{\"blur\":function($event){return _vm.checkError(_vm.category)}},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}})],1),(_vm.categoryErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.categoryErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.class_no')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('class.info_no'),\"fill\":\"\",\"disabled\":_vm.editMode},on:{\"blur\":function($event){return _vm.checkError(_vm.no)}},model:{value:(_vm.no),callback:function ($$v) {_vm.no=$$v},expression:\"no\"}})],1),(_vm.classNoErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.classNoErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.name')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('class.info_name'),\"fill\":\"\"},on:{\"blur\":function($event){return _vm.checkError(_vm.name)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),(_vm.nameErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.nameErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.campusName')))]),_c('dropdown-select',{attrs:{\"options\":_vm.campuses,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.campus),callback:function ($$v) {_vm.campus=$$v},expression:\"campus\"}})],1),(_vm.campusErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.campusErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.day')))]),_c('dropdown-select',{attrs:{\"options\":_vm.dates,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),(_vm.dateErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.dateErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.period')))]),_c('dropdown-select',{attrs:{\"options\":_vm.periods,\"disabled\":_vm.campus === undefined,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}})],1),(_vm.periodErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.periodErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.teacherName')))]),_c('dropdown-select',{attrs:{\"options\":_vm.teachers,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.teacher),callback:function ($$v) {_vm.teacher=$$v},expression:\"teacher\"}})],1),(_vm.teacherErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.teacherErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.lateAfter')))]),_c('info-input',{attrs:{\"type\":\"number\",\"max\":_vm.absentAfter,\"msg\":_vm.$t('class.info_late_after'),\"fill\":\"\"},model:{value:(_vm.lateAfter),callback:function ($$v) {_vm.lateAfter=$$v},expression:\"lateAfter\"}}),_c('div',{staticClass:\"rear-label\"},[_vm._v(_vm._s(_vm.$t('general.minutes')))])],1),(_vm.lateAfterErr !== '')?_c('div',{staticClass:\"form-row error\"},[_c('div',{staticClass:\"label\"}),_c('div',[_vm._v(_vm._s(_vm.lateAfterErr))])]):_vm._e(),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('class.absenceAfter')))]),_c('info-input',{attrs:{\"type\":\"number\",\"msg\":_vm.$t('class.info_absent_after'),\"fill\":\"\"},model:{value:(_vm.absentAfter),callback:function ($$v) {_vm.absentAfter=$$v},expression:\"absentAfter\"}}),_c('div',{staticClass:\"rear-label\"},[_vm._v(_vm._s(_vm.$t('general.minutes')))])],1),_c('div',{staticClass:\"form-row\"},[_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.saveClass}},[(_vm.editMode)?_c('span',[_vm._v(_vm._s(_vm.$t('general.save')))]):_c('span',[_vm._v(_vm._s(_vm.$t('general.add')))])]),_c('text-button',{staticClass:\"cancel-btn\",on:{\"click\":_vm.cancel}},[_vm._v(\" \"+_vm._s(_vm.$t('general.cancel'))+\" \")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const campuses = [\n  {\n    id: 0,\n    name: '',\n    periods: [\n      {\n        start_time: {\n          hour: 9,\n          minute: 10,\n        },\n        end_time: {\n          hour: 10,\n          minute: 0,\n        },\n      },\n      {\n        start_time: {\n          hour: 10,\n          minute: 10,\n        },\n        end_time: {\n          hour: 11,\n          minute: 0,\n        },\n      },\n      {\n        start_time: {\n          hour: 11,\n          minute: 10,\n        },\n        end_time: {\n          hour: 12,\n          minute: 0,\n        },\n      },\n      {\n        start_time: {\n          hour: 12,\n          minute: 10,\n        },\n        end_time: {\n          hour: 13,\n          minute: 0,\n        },\n      },\n      {\n        start_time: {\n          hour: 13,\n          minute: 10,\n        },\n        end_time: {\n          hour: 14,\n          minute: 0,\n        },\n      },\n      {\n        start_time: {\n          hour: 14,\n          minute: 10,\n        },\n        end_time: {\n          hour: 15,\n          minute: 0,\n        },\n      },\n    ],\n  },\n  {\n    id: 1,\n    name: 'Campus',\n    periods: [\n      {\n        start_time: {\n          hour: 9,\n          minute: 10,\n        },\n        end_time: {\n          hour: 10,\n          minute: 0,\n        },\n      },\n    ],\n  },\n];\n\nexport const teachers = [\n  {\n    text: 'Teacher A',\n    value: 'TA',\n  },\n  {\n    text: 'Teacher B',\n    value: 'TB',\n  },\n  {\n    text: 'Teacher C',\n    value: 'TC',\n  },\n];\n","<template>\n  <div\n    class=\"new-class\"\n    id=\"content\"\n  >\n    <div\n      class=\"title row\"\n      v-if=\"!editMode\"\n    >\n      <span\n        class=\"click-button link\"\n        @click=\"goClasses\"\n      > {{ $t('page.classes') }} </span>\n      <div class=\"seperator\"></div>\n      <span>\n        {{ $t('class.add_class') }}\n      </span>\n    </div>\n    <div\n      class=\"title row\"\n      v-if=\"editMode\"\n    >\n      <span\n        class=\"click-button link\"\n        @click=\"goClasses\"\n      > {{ $t('page.classes') }} </span>\n      <div class=\"seperator\"></div>\n      <span\n        class=\"click-button link\"\n        @click=\"goClass\"\n      > {{ id }} </span>\n      <div class=\"seperator\"></div>\n      {{ $t('class.edit_class') }}\n    </div>\n    <div class=\"block\">\n      <div class=\"class-form\">\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.category') }}</div>\n          <info-input\n            v-model=\"category\"\n            :msg=\"$t('class.info_category')\"\n            fill\n            @blur=\"checkError(category)\"\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"categoryErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{categoryErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.class_no') }}</div>\n          <info-input\n            v-model=\"no\"\n            :msg=\"$t('class.info_no')\"\n            fill\n            :disabled=\"editMode\"\n            @blur=\"checkError(no)\"\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"classNoErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{classNoErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.name') }}</div>\n          <info-input\n            v-model=\"name\"\n            :msg=\"$t('class.info_name')\"\n            fill\n            @blur=\"checkError(name)\"\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"nameErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{nameErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.campusName') }}</div>\n          <dropdown-select\n            v-model=\"campus\"\n            :options=\"campuses\"\n            width=\"150px\"\n            fixed-list-width\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"campusErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{campusErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.day') }}</div>\n          <dropdown-select\n            v-model=\"date\"\n            :options=\"dates\"\n            width=\"150px\"\n            fixed-list-width\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"dateErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{dateErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.period') }}</div>\n          <dropdown-select\n            v-model=\"period\"\n            :options=\"periods\"\n            :disabled=\"campus === undefined\"\n            width=\"150px\"\n            fixed-list-width\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"periodErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{periodErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.teacherName') }}</div>\n          <dropdown-select\n            v-model=\"teacher\"\n            :options=\"teachers\"\n            width=\"150px\"\n            fixed-list-width\n          />\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"teacherErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{teacherErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.lateAfter') }}</div>\n          <info-input\n            v-model=\"lateAfter\"\n            type=\"number\"\n            :max=\"absentAfter\"\n            :msg=\"$t('class.info_late_after')\"\n            fill\n          />\n          <div class=\"rear-label\">{{ $t('general.minutes') }}</div>\n        </div>\n        <div\n          class=\"form-row error\"\n          v-if=\"lateAfterErr !== ''\"\n        >\n          <div class=\"label\"></div>\n          <div>{{lateAfterErr}}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"label\">{{ $t('class.absenceAfter') }}</div>\n          <info-input\n            v-model=\"absentAfter\"\n            type=\"number\"\n            :msg=\"$t('class.info_absent_after')\"\n            fill\n          />\n          <div class=\"rear-label\">{{ $t('general.minutes') }}</div>\n        </div>\n        <div class=\"form-row\">\n          <text-button\n            button-type=\"primary\"\n            @click=\"saveClass\"\n          >\n            <span v-if=\"editMode\">{{$t('general.save')}}</span>\n            <span v-else>{{$t('general.add')}}</span>\n          </text-button>\n          <text-button\n            class=\"cancel-btn\"\n            @click=\"cancel\"\n          > {{$t('general.cancel')}} </text-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { campuses } from '@/utils/mock';\nimport {\n  addClass, getUsers, getCampuses, getClass, updateClass,\n} from '@/utils/api';\nimport { paddingNumToTwo } from '@/utils/format';\n\nexport default {\n  props: {\n    id: {\n      required: false,\n    },\n  },\n  data() {\n    const campusMap = {};\n    campuses.forEach((c) => {\n      campusMap[c.id] = c;\n    });\n    return {\n      name: '',\n      category: '',\n      no: '',\n      lateAfter: 10,\n      absentAfter: 15,\n\n      campusesInfo: campusMap,\n\n      campus: [],\n\n      period: undefined,\n\n      teacher: [],\n      teachers: [],\n\n      campuses: [],\n\n      date: [1],\n      dates: [],\n\n      categoryErr: '',\n      nameErr: '',\n      dateErr: '',\n      campusErr: '',\n      periodErr: '',\n      classNoErr: '',\n      teacherErr: '',\n      timeSetErr: '',\n      lateAfterErr: '',\n\n      checkData: [\n        { key: 'category', errMsgKey: 'categoryErr', errKey: 'class.categoryEmptyErr' },\n        { key: 'no', errMsgKey: 'classNoErr', errKey: 'class.classNoEmptyErr' },\n        { key: 'name', errMsgKey: 'nameErr', errKey: 'class.nameEmptyErr' },\n        { key: 'date', errMsgKey: 'dateErr', errKey: 'class.dateEmptyErr' },\n        { key: 'campus', errMsgKey: 'campusErr', errKey: 'class.campusEmptyErr' },\n        { key: 'period', errMsgKey: 'periodErr', errKey: 'class.periodEmptyErr' },\n        { key: 'teacher', errMsgKey: 'teacherErr', errKey: 'class.teacherEmptyErr' },\n      ],\n      classIsExist: false,\n    };\n  },\n  computed: {\n    ...mapState(['userInfo']),\n    editMode() {\n      return this.id !== '' && this.classIsExist;\n    },\n    periods() {\n      const campusIdx = this.campuses.findIndex((c) => {\n        if (this.campus.length > 0) {\n          return c.id === this.campus[0];\n        }\n        return false;\n      });\n      if (campusIdx >= 0) {\n        return this.campuses[campusIdx].periods.map((period, idx) => ({\n          text: `${idx + 1} - ${paddingNumToTwo(period.start_time.hour)}:${paddingNumToTwo(period.start_time.minute)}`,\n          value: idx,\n        }));\n      }\n      return [];\n    },\n  },\n  methods: {\n    goClass() {\n      this.$router.push({ name: 'Class', props: { id: this.id } });\n    },\n    goClasses() {\n      this.$router.push({ name: 'Classes' });\n    },\n    checkError(key, all) {\n      console.log('blur');\n      const that = this;\n\n      let hasErr = false;\n      that.checkData.forEach((check) => {\n        if (key !== that[check.key] && !all) {\n          return;\n        }\n        if (hasErr && !all) {\n          return;\n        }\n        if (Array.isArray(that[check.key])) {\n          if (!all) {\n            return;\n          }\n          if (that[check.key].length <= 0) {\n            that[check.errMsgKey] = that.$t(check.errKey);\n            hasErr = true;\n            return;\n          }\n        }\n        if (that[check.key] === undefined) {\n          if (!all) {\n            return;\n          }\n          that[check.errMsgKey] = that.$t(check.errKey);\n          hasErr = true;\n          return;\n        }\n        if (that[check.key] === '') {\n          that[check.errMsgKey] = that.$t(check.errKey);\n          hasErr = true;\n          return;\n        }\n        if (typeof check.check === 'function') {\n          if (!check.check(that[check.key])) {\n            that[check.errMsgKey] = that.$t(check.errKey);\n            hasErr = true;\n            return;\n          }\n        }\n        that[check.errMsgKey] = '';\n\n        console.log(check.key, Array.isArray(that[check.key]), that[check.key]);\n      });\n\n      return !hasErr;\n    },\n    saveClass() {\n      const that = this;\n\n      if (!that.checkError('', true)) {\n        return;\n      }\n\n      const classInfo = {\n        class_no: that.no,\n        name: that.name,\n        category: that.category,\n\n        date: that.date[0],\n\n        campus: that.campus[0],\n        campusName: that.campuses.find((t) => t.value === that.campus[0]).text,\n        period: parseInt(that.period[0], 10) + 1,\n        teacherId: that.teacher[0],\n        teacherName: that.teachers.find((t) => t.value === that.teacher[0]).text,\n        lateAfter: that.lateAfter,\n        absenceAfter: that.absentAfter,\n        students: [],\n      };\n\n      console.log(classInfo);\n      const promise = this.editMode ? updateClass(that.no, classInfo) : addClass(classInfo);\n      promise\n        .then(() => {\n          if (this.editMode) {\n            that.$router.push({ name: 'Class', props: { id: this.id } });\n          } else {\n            that.$router.push({ name: 'Classes' });\n          }\n        }).then(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('general.update_success'),\n            type: 'success',\n          });\n        })\n        .catch((e) => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('class.add_class_fail'),\n            type: 'error',\n            text: that.$t(`error.${e.response.data.error}`),\n          });\n        });\n    },\n    cancel() {\n      if (!this.editMode) {\n        this.$router.push({ name: 'Classes' });\n      } else {\n        this.$router.push({ name: 'Class', props: { id: this.id } });\n      }\n    },\n    loadUsers() {\n      const that = this;\n      const teachers = [];\n      that.$startLoading();\n      if (that.userInfo.type === 1) {\n        teachers.push(JSON.parse(JSON.stringify(that.userInfo)));\n      }\n      return getUsers()\n        .then((rsp) => {\n          teachers.push(...rsp.result.filter((u) => u.type === 'teacher' || u.type === 1));\n          that.teachers = teachers.map((t) => ({\n            text: t.username || t.name,\n            value: t.id,\n          }));\n          if (that.teachers.length > 0) {\n            that.teacher = [that.teachers[0].value];\n          }\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    loadData() {\n      const that = this;\n      let returnCampuses = [];\n      that.$startLoading();\n      let promise = getCampuses().then((rsp) => {\n        returnCampuses = rsp.result.map((c) => {\n          c.text = c.name;\n          c.value = c.id;\n          return c;\n        });\n      });\n      if (this.id !== '') {\n        promise = promise.then(() => getClass(that.id))\n          .then((rsp) => {\n            that.no = rsp.result.class_no;\n            that.name = rsp.result.name;\n            that.category = rsp.result.category;\n            that.date = [rsp.result.date];\n            const idx = returnCampuses.findIndex((c) => c.text === rsp.result.campusName);\n            that.campus = [returnCampuses[idx].value];\n            that.period = [rsp.result.period - 1];\n            that.teacher = [rsp.result.teacherId];\n            that.lateAfter = rsp.result.lateAfter;\n            that.absentAfter = rsp.result.absenceAfter;\n            that.classIsExist = true;\n            that.$nextTick(() => {\n              that.$forceUpdate();\n            });\n          });\n      }\n      promise = promise\n        .then(() => {\n          that.campuses = returnCampuses;\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n      return promise;\n    },\n  },\n  mounted() {\n    console.log('mounted');\n    this.loadUsers()\n      .then(() => this.loadData());\n    this.dates = [\n      { text: this.$t('general.monday'), value: 1 },\n      { text: this.$t('general.tuesday'), value: 2 },\n      { text: this.$t('general.wednesday'), value: 3 },\n      { text: this.$t('general.thursday'), value: 4 },\n      { text: this.$t('general.friday'), value: 5 },\n      { text: this.$t('general.saturday'), value: 6 },\n      { text: this.$t('general.sunday'), value: 0 },\n    ];\n    this.checkData.push(\n      {\n        key: 'lateAfter',\n        errMsgKey: 'lateAfterErr',\n        errKey: 'class.lateAfterBiggerThenAbsentErr',\n        check: (val) => parseInt(val, 10) <= parseInt(this.absentAfter, 10),\n      },\n    );\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.class-form {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 500px;\n  .form-row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    &.error {\n      color: $color-error;\n    }\n    .label {\n      margin-right: 8px;\n      flex: 0 0 100px;\n      text-align: right;\n    }\n    .rear-label {\n      margin-left: 8px;\n    }\n    .cancel-btn {\n      margin-left: 8px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewClass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewClass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewClass.vue?vue&type=template&id=2717ca40&scoped=true&\"\nimport script from \"./NewClass.vue?vue&type=script&lang=js&\"\nexport * from \"./NewClass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewClass.vue?vue&type=style&index=0&id=2717ca40&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2717ca40\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users\"},[_c('div',{staticClass:\"title row\"},[_vm._v(_vm._s(_vm.$t('page.users')))]),_c('div',{staticClass:\"row\"},[_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(_vm._s(_vm.$t('user.add_user_btn')))]),(_vm.userInfo && _vm.userInfo.type === 0)?_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.importUsers}},[_vm._v(_vm._s(_vm.$t('general.import')))]):_vm._e()],1),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"t-row header\"},[_vm._l((_vm.headers),function(header){return _c('div',{staticClass:\"t-cell sortable\",class:header.class,on:{\"click\":function($event){return _vm.sort(header)}}},[_c('div',{staticClass:\"tr-title\"},[_vm._v(_vm._s(_vm.$t(header.labelKey)))]),_c('div',{staticClass:\"tr-sort\"},[(header.sorting === undefined)?[_vm._v(\"\")]:(header.sorting)?[_vm._v(\"\")]:[_vm._v(\"\")]],2)])}),_c('div',{staticClass:\"t-cell actions\"},[_vm._v(_vm._s(_vm.$t('general.actions')))])],2),_vm._l((_vm.users),function(user){return _c('div',{key:user.studentID,staticClass:\"t-row\"},[_c('div',{staticClass:\"t-cell name\"},[_vm._v(_vm._s(user.username))]),_c('div',{staticClass:\"t-cell name\"},[_vm._v(_vm._s(user.id))]),_c('div',{staticClass:\"t-cell type\"},[(user.allowAccountLogin !== undefined)?_c('span',[_vm._v(_vm._s(_vm.$t('general.admin')))]):(user.type === 1)?_c('span',[_vm._v(_vm._s(_vm.$t('general.teacher')))]):(user.type === 2)?_c('span',[_vm._v(_vm._s(_vm.$t('general.student')))]):_vm._e()]),_c('div',{staticClass:\"t-cell actions\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.$router.push((\"/user/\" + (user.id)))}}},[_vm._v(_vm._s(_vm.$t('general.view')))]),(user.type !== 'admin' && user.type !== 0)?_c('div',{staticClass:\"text-link danger\",on:{\"click\":function($event){return _vm.popDeleteUser(user)}}},[_c('span',[_vm._v(_vm._s(_vm.$t('general.delete')))])]):_vm._e()])])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"class-form\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('user.info_name')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('user.info_name'),\"fill\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),(_vm.showNameError)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"}),_c('div',{staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.$t('user.name_empty_err')))])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('general.id')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('general.id'),\"fill\":\"\"},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}})],1),(_vm.showIDError)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"}),_c('div',{staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.$t('user.id_empty_err')))])]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('user.info_type')))]),_c('dropdown-select',{attrs:{\"disabled\":_vm.currentUserType === 1,\"options\":_vm.userTypes,\"width\":\"150px\",\"fixed-list-width\":\"\"},model:{value:(_vm.userType),callback:function ($$v) {_vm.userType=$$v},expression:\"userType\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"class-form\">\n    <div class=\"row\">\n      <div class=\"label\">{{ $t('user.info_name') }}</div>\n      <info-input\n        v-model=\"name\"\n        :msg=\"$t('user.info_name')\"\n        fill\n      />\n    </div>\n    <div\n      class=\"row\"\n      v-if=\"showNameError\"\n    >\n      <div class=\"label\"></div>\n      <div class=\"err-msg\">{{ $t('user.name_empty_err') }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{ $t('general.id') }}</div>\n      <info-input\n        v-model=\"id\"\n        :msg=\"$t('general.id')\"\n        fill\n      />\n    </div>\n    <div\n      class=\"row\"\n      v-if=\"showIDError\"\n    >\n      <div class=\"label\"></div>\n      <div class=\"err-msg\">{{ $t('user.id_empty_err') }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"label\">{{ $t('user.info_type') }}</div>\n      <dropdown-select\n        :disabled=\"currentUserType === 1\"\n        v-model=\"userType\"\n        :options=\"userTypes\"\n        width=\"150px\"\n        fixed-list-width\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      name: '',\n      id: '',\n\n      userType: [2],\n      userTypes: [\n        {\n          text: this.$t('general.student'),\n          value: 2,\n        },\n      ],\n      showNameError: false,\n      showIDError: false,\n    };\n  },\n  computed: {\n    showAcountCol() {\n      return this.userType[0] === 0;\n    },\n    ...mapGetters(['currentUserType']),\n  },\n  mounted() {\n    const that = this;\n\n    if (that.currentUserType === 0) {\n      that.userTypes.unshift(\n        {\n          text: this.$t('general.teacher'),\n          value: 1,\n        },\n      );\n    }\n\n    that.$on('validate', () => {\n      that.name = that.name.trim();\n      that.id = that.id.trim();\n      if (that.name === '') {\n        that.showNameError = true;\n      }\n      if (that.id === '') {\n        that.showIDError = true;\n      }\n      if (that.showIDError || that.showNameError) {\n        return;\n      }\n\n      that.$emit('validateSuccess', {\n        username: that.name,\n        id: that.id,\n        type: that.userType[0],\n      });\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.class-form {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 400px;\n  .row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    .label {\n      margin-right: 8px;\n      flex: 0 0 100px;\n      text-align: right;\n    }\n    .err-msg {\n      color: $color-error;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserForm.vue?vue&type=template&id=bd8e54e4&scoped=true&\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserForm.vue?vue&type=style&index=0&id=bd8e54e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd8e54e4\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.users\n  .title.row {{ $t('page.users') }}\n  .row\n    text-button(button-type=\"primary\", @click=\"addUser\") {{ $t('user.add_user_btn') }}\n    text-button(\n      button-type=\"primary\",\n      @click=\"importUsers\",\n      v-if=\"userInfo && userInfo.type === 0\"\n    ) {{ $t('general.import') }}\n  .block\n    .table\n      .t-row.header\n        .t-cell.sortable(\n          v-for=\"header in headers\",\n          :class=\"header.class\",\n          @click=\"sort(header)\"\n        )\n          .tr-title {{ $t(header.labelKey) }}\n          .tr-sort\n            template(v-if=\"header.sorting === undefined\") \n            template(v-else-if=\"header.sorting\") \n            template(v-else) \n        .t-cell.actions {{ $t('general.actions') }}\n      .t-row(v-for=\"user in users\", :key=\"user.studentID\")\n        .t-cell.name {{ user.username }}\n        .t-cell.name {{ user.id }}\n        .t-cell.type\n          span(v-if=\"user.allowAccountLogin !== undefined\") {{ $t('general.admin') }}\n          span(v-else-if=\"user.type === 1\") {{ $t('general.teacher') }}\n          span(v-else-if=\"user.type === 2\") {{ $t('general.student') }}\n        .t-cell.actions\n          .text-link(@click=\"$router.push(`/user/${user.id}`)\") {{ $t('general.view') }}\n          .text-link.danger(\n            v-if=\"user.type !== 'admin' && user.type !== 0\",\n            @click=\"popDeleteUser(user)\"\n          )\n            span {{ $t('general.delete') }}\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {\n  getUsers, addUser, importUser, deleteUser,\n} from '@/utils/api';\nimport UserForm from '@/components/forms/UserForm.vue';\nimport FileForm from '@/components/forms/FileForm.vue';\nimport Check from '@/components/forms/Check.vue';\n\nexport default {\n  data() {\n    return {\n      users: [],\n      headers: [\n        {\n          labelKey: 'general.name', class: 'name', key: 'username', sorting: undefined,\n        },\n        {\n          labelKey: 'general.id', class: 'name', key: 'id', sorting: undefined,\n        },\n        {\n          labelKey: 'user.info_type', class: 'type', key: 'type', sorting: undefined,\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapState(['userInfo']),\n  },\n  methods: {\n    sort(header) {\n      const that = this;\n      if (header.sorting !== undefined) {\n        header.sorting = !header.sorting;\n      } else {\n        header.sorting = true;\n      }\n      that.headers.forEach((h) => {\n        if (h !== header) {\n          h.sorting = undefined;\n        }\n      });\n      const temp = JSON.parse(JSON.stringify(that.users));\n\n      temp.sort((a, b) => {\n        const bigger = header.sorting ? 1 : -1;\n        return a[header.key] > b[header.key] ? bigger : bigger * -1;\n      });\n      that.users = temp;\n\n      that.$forceUpdate();\n    },\n    addUser() {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: UserForm,\n        ok_msg: that.$t('general.add'),\n        cancel_msg: that.$t('general.cancel'),\n        data: {\n\n        },\n        callback: {\n          ok: (c) => {\n            addUser(c)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.update_success'),\n                  type: 'success',\n                });\n              })\n              .catch((e) => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('user.add_user_fail'),\n                  type: 'error',\n                  text: that.$t(`error.${e.response.data.error}`),\n                });\n              })\n              .then(() => that.loadUsers());\n          },\n        },\n        title: that.$t('user.add_user'),\n        validate: true,\n        clickOutsideClose: true,\n      });\n    },\n    loadUsers() {\n      const that = this;\n      that.$startLoading();\n      return getUsers()\n        .then((data) => {\n          that.users = data.result.map((d) => {\n            const ret = {\n              ...d,\n            };\n            if (d.allowAccountLogin !== undefined) {\n              ret.type = 0;\n            }\n            return ret;\n          });\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    importUsers() {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: FileForm,\n        ok_msg: that.$t('general.upload'),\n        cancel_msg: that.$t('general.cancel'),\n        callback: {\n          ok: (file) => {\n            that.$startLoading();\n            importUser(file)\n              .then((rsp) => {\n                console.log(rsp);\n                const { total } = rsp.result;\n                const { fail } = rsp.result;\n                const msgKey = fail === 0 ? 'user.import_success_msg' : 'user.import_fail_msg';\n                that.$notify({\n                  group: 'attendance',\n                  title: fail === 0 ? that.$t('general.success') : that.$t('general.result'),\n                  type: fail === 0 ? 'success' : 'warn',\n                  text: that.$t(msgKey, { total, fail }),\n                });\n              })\n              .catch((e) => {\n                const errMsgValid = that.$te(`error.${e.response.data.error}`);\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.update_fail'),\n                  type: 'error',\n                  text: errMsgValid ? that.$t(`error.${e.response.data.error}`) : e.response.data.error,\n                });\n              })\n              .finally(() => {\n                that.$endLoading();\n                that.loadUsers();\n              });\n          },\n        },\n        title: that.$t('user.import_user'),\n        validate: true,\n        clickOutsideClose: false,\n      });\n    },\n    popDeleteUser(c) {\n      console.log(c);\n      const that = this;\n      const msg = that.$t('user.delete_user_msg', { name: c.username });\n      that.$root.$emit('pop-window', {\n        component: Check,\n        ok_msg: that.$t('general.delete'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          msg,\n        },\n        callback: {\n          ok: () => {\n            deleteUser(c.id)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.delete_success'),\n                  type: 'success',\n                });\n              })\n              .finally(() => {\n                that.loadUsers();\n              });\n          },\n        },\n        title: that.$t('user.delete_user'),\n        validate: false,\n        clickOutsideClose: false,\n      });\n    },\n  },\n  mounted() {\n    this.loadUsers();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  .table {\n    font-size: 12px;\n    display: flex;\n    flex-direction: column;\n    .t-row {\n      flex: 0 0 36px;\n      line-height: 36px;\n      &.header {\n        background: #fcfcfc;\n      }\n      border-bottom: 1px solid #e9e9e9;\n\n      display: flex;\n      flex-direction: row;\n      .name {\n        flex: 0 0 120px;\n      }\n      .type {\n        flex: 0 0 120px;\n      }\n      .actions {\n        flex: 1;\n        .text-link {\n          margin-right: 8px;\n          color: $color-primary;\n          display: inline-block;\n          text-decoration: underline;\n          &.danger {\n            color: $color-error;\n          }\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n      .t-cell {\n        padding-left: 20px;\n        display: flex;\n        align-items: baseline;\n        .tr-sort {\n          margin-left: 8px;\n        }\n        &.sortable {\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=781ebb15&scoped=true&lang=pug&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=781ebb15&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"781ebb15\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"title row\"},[_c('span',{staticClass:\"link click-button\",on:{\"click\":_vm.goUsers}},[_vm._v(_vm._s(_vm.$t('page.users')))]),_c('div',{staticClass:\"seperator\"}),_c('span',[_vm._v(_vm._s(_vm.info.name))])]),_c('div',{staticClass:\"row\"},[_c('text-button',{on:{\"click\":function($event){return _vm.$router.push({ name: 'Users' })}}},[_c('span',[_vm._v(_vm._s(_vm.$t('general.back_list')))])])],1),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"session-title\"},[_vm._v(_vm._s(_vm.$t('user.user_information')))]),_c('div',{staticClass:\"information\"},_vm._l((Object.keys(_vm.info)),function(key){return _c('div',{key:key,staticClass:\"info-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t((\"user.info_\" + key))))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.info[key]))])])}),0)]),_c('div',{staticClass:\"session\"},[_c('label-switch',{staticClass:\"switch\",attrs:{\"options\":_vm.pageOption},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}),(_vm.currentPage === 'keys')?_c('div',{staticClass:\"session-page\"},[_c('text-button',{on:{\"click\":function($event){return _vm.$router.push({ name: 'UserNewKey' })}}},[_c('span',[_vm._v(_vm._s(_vm.$t('user.add_security_key')))])]),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"header l-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t('general.security_key_name')))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.$t('general.add_time')))]),_c('div',{staticClass:\"actions\"},[_vm._v(_vm._s(_vm.$t('general.actions')))])]),_vm._l((_vm.keys),function(key){return _c('div',{key:key.id,staticClass:\"list l-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(key.name)+\" \")]),_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(key.create_time)+\" \")]),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.popDeleteKey(key)}}},[_vm._v(_vm._s(_vm.$t('general.delete')))])])])})],2)],1):(_vm.currentPage === \"records\")?_c('div',{staticClass:\"session-page\"},[_c('text-button',{on:{\"click\":_vm.downloadRecords}},[_vm._v(_vm._s(_vm.$t('general.export_record')))]),(_vm.recordNum > _vm.recordLimit)?_c('div',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.$t('user.too_many_record', {num: _vm.recordNum, limit: _vm.recordLimit}))+\" \")]):_vm._e(),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"header l-row\"},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.$t('general.time')))]),(_vm.rawInfo.type === 2)?_c('div',{staticClass:\"class\"},[_vm._v(_vm._s(_vm.$t('general.class')))]):_vm._e(),(_vm.rawInfo.type !== 1)?_c('div',{staticClass:\"used-key\"},[_vm._v(_vm._s(_vm.$t('general.key_used')))]):_vm._e(),_c('div',{staticClass:\"ip\"},[_vm._v(_vm._s(_vm.$t('general.ip')))])]),_vm._l((_vm.records),function(data){return _c('div',{key:data.time,staticClass:\"list l-row\"},[_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(data.timeStr)+\" \")]),(_vm.rawInfo.type === 2)?_c('div',{staticClass:\"class\"},[_vm._v(\" \"+_vm._s(data.class)+\" \")]):_vm._e(),(_vm.rawInfo.type !== 1)?_c('div',{staticClass:\"used-key\"},[_vm._v(\" \"+_vm._s(data.key_use_boolean)+\" \")]):_vm._e(),_c('div',{staticClass:\"ip\"},[_vm._v(\" \"+_vm._s(data.ip)+\" \")])])})],2)],1):(_vm.currentPage === \"classes\")?_c('div',{staticClass:\"session-page\"},[_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"header l-row\"},[_c('div',{staticClass:\"no\"},[_vm._v(_vm._s(_vm.$t('class.class_no')))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t('class.name')))])]),_vm._l((_vm.classInfos),function(data){return _c('div',{key:data.class_no,staticClass:\"list l-row\"},[_c('div',{staticClass:\"no\"},[_vm._v(\" \"+_vm._s(data.class_no)+\" \")]),_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(data.name)+\" \")])])})],2)]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const ADMIN_TYPE = 0;\nexport const TEACHER_TYPE = 1;\nexport const STUDENT_TYPE = 2;\n\nconst TimeCol = {\n  labelKey: 'general.time',\n  valueKey: 'timeStr',\n};\nconst ClassCol = {\n  labelKey: 'general.class',\n  valueKey: 'class',\n};\nconst KeyCol = {\n  labelKey: 'general.key_used',\n  valueKey: 'key_use_boolean',\n};\nconst IPCol = {\n  labelKey: 'general.ip',\n  valueKey: 'ip',\n};\n\nexport const userRecordColumnList = {\n  [ADMIN_TYPE]: [TimeCol, KeyCol, IPCol],\n  [TEACHER_TYPE]: [TimeCol, IPCol],\n  [STUDENT_TYPE]: [TimeCol, ClassCol, KeyCol, IPCol],\n};\n","<template>\n  <div class=\"user\">\n    <div class=\"title row\">\n      <span\n        class=\"link click-button\"\n        @click=\"goUsers\"\n      >{{ $t('page.users') }}</span>\n      <div class=\"seperator\"></div>\n      <span>{{ info.name }}</span>\n    </div>\n    <div class=\"row\">\n      <text-button @click=\"$router.push({ name: 'Users' })\">\n        <span>{{ $t('general.back_list') }}</span>\n      </text-button>\n    </div>\n    <div class=\"block\">\n      <div class=\"session\">\n        <div class=\"session-title\">{{ $t('user.user_information') }}</div>\n        <div class=\"information\">\n          <div\n            class=\"info-row\"\n            v-for=\"key in Object.keys(info)\"\n            :key=\"key\"\n          >\n            <div class=\"name\">{{ $t(`user.info_${key}`) }}</div>\n            <div class=\"value\">{{ info[key] }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"session\">\n        <label-switch\n          class=\"switch\"\n          :options=\"pageOption\"\n          v-model=\"currentPage\"\n        />\n\n        <div\n          class=\"session-page\"\n          v-if=\"currentPage === 'keys'\"\n        >\n          <text-button @click=\"$router.push({ name: 'UserNewKey' })\">\n            <span>{{ $t('user.add_security_key') }}</span>\n          </text-button>\n          <div class=\"list-container\">\n            <div class=\"header l-row\">\n              <div class=\"name\">{{ $t('general.security_key_name') }}</div>\n              <div class=\"time\">{{ $t('general.add_time') }}</div>\n              <div class=\"actions\">{{ $t('general.actions') }}</div>\n            </div>\n            <div\n              class=\"list l-row\"\n              v-for=\"key in keys\"\n              :key=\"key.id\"\n            >\n              <div class=\"name\">\n                {{ key.name }}\n              </div>\n              <div class=\"time\">\n                {{ key.create_time }}\n              </div>\n              <div class=\"actions\">\n                <div\n                  class=\"text-link\"\n                  @click=\"popDeleteKey(key)\"\n                >{{ $t('general.delete') }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"session-page\"\n          v-else-if='currentPage === \"records\"'\n        >\n          <text-button @click=\"downloadRecords\">{{ $t('general.export_record') }}</text-button>\n          <div\n            class=\"desc\"\n            v-if=\"recordNum > recordLimit\"\n          >\n            {{ $t('user.too_many_record', {num: recordNum, limit: recordLimit}) }}\n          </div>\n          <div class=\"list-container\">\n            <div class=\"header l-row\">\n              <div class=\"time\">{{ $t('general.time') }}</div>\n              <div\n                class=\"class\"\n                v-if=\"rawInfo.type === 2\"\n              >{{ $t('general.class') }}</div>\n              <div\n                class=\"used-key\"\n                v-if=\"rawInfo.type !== 1\"\n              >{{ $t('general.key_used') }}</div>\n              <div class=\"ip\">{{ $t('general.ip') }}</div>\n            </div>\n            <div\n              class=\"list l-row\"\n              v-for=\"data in records\"\n              :key=\"data.time\"\n            >\n              <div class=\"time\">\n                {{ data.timeStr }}\n              </div>\n              <div\n                class=\"class\"\n                v-if=\"rawInfo.type === 2\"\n              >\n                {{ data.class }}\n              </div>\n              <div\n                class=\"used-key\"\n                v-if=\"rawInfo.type !== 1\"\n              >\n                {{ data.key_use_boolean }}\n              </div>\n              <div class=\"ip\">\n                {{ data.ip }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"session-page\"\n          v-else-if='currentPage === \"classes\"'\n        >\n          <div class=\"list-container\">\n            <div class=\"header l-row\">\n              <div class=\"no\">{{ $t('class.class_no') }}</div>\n              <div class=\"name\">{{ $t('class.name') }}</div>\n            </div>\n            <div\n              class=\"list l-row\"\n              v-for=\"data in classInfos\"\n              :key=\"data.class_no\"\n            >\n              <div class=\"no\">\n                {{ data.class_no }}\n              </div>\n              <div class=\"name\">\n                {{ data.name }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getUser, getUserKeys, getUserRecords, deleteUserKey,\n} from '@/utils/api';\nimport LabelSwitch from '@/components/LabelSwitch.vue';\nimport { datetimeToString } from '@/utils/format';\nimport misc from '@/utils/misc';\nimport Check from '@/components/forms/Check.vue';\nimport { userRecordColumnList } from '@/utils/constant';\n\nexport default {\n  props: {\n    id: {\n      type: String,\n    },\n  },\n  components: {\n    'label-switch': LabelSwitch,\n  },\n  data() {\n    return {\n      info: {\n        name: '',\n        type: '',\n      },\n      rawInfo: {},\n      userType: 0,\n      currentPage: 'keys',\n      pageOption: [\n        {\n          val: 'keys',\n          text: this.$t('general.security_key'),\n        }],\n      keys: [\n        // {\n        //   id: 1,\n        //   name: 'Fingerprint',\n        //   create_time: '2020/10/30 10:01:10',\n        // },\n        // {\n        //   id: 2,\n        //   name: 'NFC Check',\n        //   create_time: '2020/10/28 10:01:10',\n        // },\n      ],\n      records: [],\n      recordLimit: 30,\n      recordNum: 0,\n      classInfos: [\n        // {\n        //   name: '',\n        //   class_no: 'SEM100J',\n        // },\n        // {\n        //   name: 'English',\n        //   class_no: 'SEM101J',\n        // },\n      ],\n    };\n  },\n  methods: {\n    goUsers() {\n      this.$router.push({ name: 'Users' });\n    },\n    popDeleteKey(c) {\n      console.log(c);\n      const that = this;\n      const msg = that.$t('user.delete_key_msg', { name: c.name });\n      that.$root.$emit('pop-window', {\n        component: Check,\n        ok_msg: that.$t('general.delete'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          msg,\n        },\n        callback: {\n          ok: () => {\n            console.log('ok');\n            deleteUserKey(this.id, c.id)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.delete_success'),\n                  type: 'success',\n                });\n                that.loadUser();\n              })\n              .catch((e) => {\n                this.$notify({\n                  group: 'attendance',\n                  title: this.$t('general.update_fail'),\n                  type: 'warn',\n                  text: e.response.data.message,\n                });\n              });\n          },\n        },\n        title: that.$t('user.delete_key'),\n        validate: false,\n        clickOutsideClose: false,\n      });\n    },\n    downloadRecords() {\n      const that = this;\n      that.$startLoading();\n      getUserRecords(that.id)\n        .then((rsp) => {\n          const records = rsp.result;\n          records.forEach((r) => {\n            r.timeStr = datetimeToString(r.time);\n            r.key_use_boolean = r.key_use === 'FIDO Key' ? 'Yes' : 'No';\n          });\n          let output = '\\ufeff';\n          const columns = userRecordColumnList[that.rawInfo.type] || [];\n          output += columns.map((col) => that.$t(col.labelKey)).join(',');\n          output += '\\n';\n\n          records.forEach((r) => {\n            output += columns.map((col) => r[col.valueKey] || '').join(',');\n            output += '\\n';\n          });\n          const data = new Blob([output], { type: 'text/csv' });\n          misc.downloadRawFile(data, `${that.id}_record.csv`);\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    expandRow(row) {\n      this.sessions.forEach((s) => {\n        s.expand = false;\n      });\n      row.expand = true;\n    },\n    loadUser() {\n      const that = this;\n      that.$startLoading();\n      return getUser(that.id)\n        .then((rsp) => {\n          const d = rsp.result;\n          that.info = {\n            name: d.name || 'Name',\n            id: d.id,\n          };\n          that.rawInfo = d;\n          that.classInfos = rsp.result.classes;\n          switch (d.type) {\n            case 0:\n              that.info.type = that.$t('general.admin');\n              break;\n            case 1:\n              that.info.type = that.$t('general.teacher');\n              break;\n            case 2:\n              that.info.type = that.$t('general.student');\n              break;\n            default:\n          }\n        })\n        .then(() => getUserRecords(that.id))\n        .then((rsp) => {\n          that.recordNum = rsp.result.length;\n          that.records = rsp.result.slice(0, that.recordLimit);\n          that.records.forEach((r) => {\n            r.timeStr = datetimeToString(r.time);\n            r.key_use_boolean = r.key_use === 'FIDO Key' ? 'Yes' : 'No';\n          });\n        })\n        .then(() => getUserKeys(that.id))\n        .then((data) => {\n          that.keys = data.result.map((r) => ({\n            id: r.id,\n            name: r.name,\n            create_time: datetimeToString(parseInt(r.create_time, 10)),\n          }));\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    setupPage() {\n      const that = this;\n      const d = that.rawInfo;\n      console.log(d);\n      that.pageOption.push(\n        {\n          val: 'records',\n          text: this.$t('general.login_record'),\n        },\n      );\n      if (d.type !== 0) {\n        that.pageOption.push(\n          {\n            val: 'classes',\n            text: this.$t('signin.classes'),\n          },\n        );\n      }\n    },\n  },\n  mounted() {\n    const that = this;\n    that.loadUser()\n      .then(() => that.setupPage());\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  @include auto-overflow();\n  @include customScrollbar();\n  display: flex;\n  flex-direction: column;\n  .session {\n    flex: 0 0 auto;\n  }\n}\n.session {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: column;\n  .session-title {\n    font-weight: bold;\n    padding: 8px 20px;\n  }\n  .information {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0px 20px;\n\n    .info-row {\n      display: flex;\n      align-items: center;\n      flex: 0 0 40px;\n      padding: 8px 20px;\n      .name {\n        flex: 0 0 100px;\n        text-align: right;\n        padding-right: 20px;\n      }\n      .value {\n        flex: 1;\n      }\n    }\n  }\n\n  .switch {\n    margin: 0 20px;\n  }\n  .session-page {\n    flex: 1;\n    padding: 20px;\n    margin: 0px 20px;\n    margin-top: -1px;\n    border: 1px solid #e9e9e9;\n    & > .text-button {\n      margin-bottom: 8px;\n    }\n    .desc {\n      font-size: 12px;\n      margin-bottom: 8px;\n    }\n    .list-container {\n      font-size: 12px;\n      .header {\n        border-bottom: 1px solid #e9e9e9;\n      }\n      .l-row {\n        display: flex;\n        align-items: center;\n        padding: 8px 0px;\n      }\n      .no {\n        flex: 0 0 120px;\n      }\n      .name {\n        flex: 0 0 140px;\n      }\n      .time {\n        flex: 0 0 160px;\n      }\n      .class {\n        flex: 0 0 120px;\n      }\n      .ip {\n        flex: 1;\n      }\n      .used-key {\n        flex: 0 0 200px;\n      }\n      .actions {\n        flex: 1;\n      }\n      .actions {\n        flex: 1;\n        .text-link {\n          margin-right: 8px;\n          color: $color-primary;\n          display: inline-block;\n          text-decoration: underline;\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=3d62eb2b&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=3d62eb2b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d62eb2b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile\",attrs:{\"id\":\"content\"}},[_c('div',{staticClass:\"title row\"},[_vm._v(_vm._s(_vm.$t('page.profile')))]),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"session-title\"},[_vm._v(_vm._s(_vm.$t('user.user_information')))]),_c('div',{staticClass:\"information\"},[_vm._l((Object.keys(_vm.info)),function(key){return _c('div',{key:key,staticClass:\"info-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t((\"user.info_\" + key))))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.info[key]))])])}),(_vm.userType === 0)?_c('div',{staticClass:\"info-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t('user.info_password')))]),_c('text-button',{on:{\"click\":_vm.changePassword}},[_vm._v(\" \"+_vm._s(_vm.$t('user.chagne_password'))+\" \")])],1):_vm._e()],2)]),_c('div',{staticClass:\"session\"},[_c('label-switch',{staticClass:\"switch\",attrs:{\"options\":_vm.pageOption},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}),(_vm.currentPage === \"keys\")?_c('div',{staticClass:\"session-page\"},[_c('text-button',{on:{\"click\":function($event){return _vm.$router.push({ name: 'ProfileNewkey', params: {id: ''} })}}},[_vm._v(\" \"+_vm._s(_vm.$t('user.add_security_key')))]),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"header l-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.$t('general.security_key_name')))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.$t('general.add_time')))]),_c('div',{staticClass:\"actions\"},[_vm._v(_vm._s(_vm.$t('general.actions')))])]),_vm._l((_vm.keys),function(key){return _c('div',{key:key.id,staticClass:\"list l-row\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(key.name)+\" \")]),_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(key.create_time)+\" \")]),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.popEditKey(key)}}},[_vm._v(_vm._s(_vm.$t('general.edit')))]),_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.popDeleteKey(key)}}},[_vm._v(_vm._s(_vm.$t('general.delete')))])])])})],2)],1):(_vm.currentPage === \"records\")?_c('div',{staticClass:\"session-page\"},[_c('text-button',{on:{\"click\":_vm.downloadRecords}},[_vm._v(_vm._s(_vm.$t('general.export_record')))]),(_vm.recordNum > _vm.recordLimit)?_c('div',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.$t('user.too_many_record', {num: _vm.recordNum, limit: _vm.recordLimit}))+\" \")]):_vm._e(),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"header l-row\"},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.$t('general.time')))]),(_vm.userType === 2)?_c('div',{staticClass:\"class\"},[_vm._v(_vm._s(_vm.$t('general.class')))]):_vm._e(),(_vm.userType !== 1)?_c('div',{staticClass:\"used-key\"},[_vm._v(_vm._s(_vm.$t('general.key_used')))]):_vm._e(),_c('div',{staticClass:\"ip\"},[_vm._v(_vm._s(_vm.$t('general.ip')))])]),_vm._l((_vm.records),function(data){return _c('div',{key:data.time,staticClass:\"list l-row\"},[_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(data.timeStr)+\" \")]),(_vm.userType === 2)?_c('div',{staticClass:\"class\"},[_vm._v(\" \"+_vm._s(data.class)+\" \")]):_vm._e(),(_vm.userType !== 1)?_c('div',{staticClass:\"used-key\"},[_vm._v(\" \"+_vm._s(data.key_use_boolean)+\" \")]):_vm._e(),_c('div',{staticClass:\"ip\"},[_vm._v(\" \"+_vm._s(data.ip)+\" \")])])})],2)],1):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"password-form\",attrs:{\"autocomplete\":\"nofill\"}},[_c('div',{staticClass:\"password-change-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('user.new_password')))]),_c('info-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"new-password\",\"msg\":_vm.$t('user.info_password'),\"fill\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('div',{staticClass:\"password-change-row\"},[_c('div',{staticClass:\"label\"}),(_vm.passwordEmpty)?_c('div',{staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.$t('user.password_empty_err')))]):_vm._e()]),_c('div',{staticClass:\"password-change-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('user.check_password')))]),_c('info-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"new-password\",\"msg\":_vm.$t('user.check_password'),\"fill\":\"\"},model:{value:(_vm.checkPassword),callback:function ($$v) {_vm.checkPassword=$$v},expression:\"checkPassword\"}})],1),_c('div',{staticClass:\"password-change-row\"},[_c('div',{staticClass:\"label\"}),(_vm.passwordNotEqual)?_c('div',{staticClass:\"err-msg\"},[_vm._v(_vm._s(_vm.$t('user.check_password_not_equal')))]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nform.password-form(autocomplete=\"nofill\")\n  .password-change-row\n    .label {{ $t('user.new_password') }}\n    info-input(\n      type=\"password\",\n      autocomplete=\"new-password\",\n      v-model=\"password\",\n      :msg=\"$t('user.info_password')\",\n      fill\n    )\n  .password-change-row\n    .label\n    .err-msg(v-if=\"passwordEmpty\") {{ $t('user.password_empty_err') }}\n  .password-change-row\n    .label {{ $t('user.check_password') }}\n    info-input(\n      type=\"password\",\n      autocomplete=\"new-password\",\n      v-model=\"checkPassword\",\n      :msg=\"$t('user.check_password')\",\n      fill\n    )\n  .password-change-row\n    .label\n    .err-msg(v-if=\"passwordNotEqual\") {{ $t('user.check_password_not_equal') }}\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      password: '',\n      checkPassword: '',\n      passwordNotEqual: false,\n      passwordEmpty: false,\n    };\n  },\n  mounted() {\n    const that = this;\n    that.$on('validate', () => {\n      that.password = that.password.trim();\n      that.passwordNotEqual = that.password !== that.checkPassword;\n      that.passwordEmpty = that.password === '';\n      if (that.passwordNotEqual || that.passwordEmpty) {\n        return;\n      }\n      that.$emit('validateSuccess', {\n        password: that.password,\n      });\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.password-form {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 400px;\n  .password-change-row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    .label {\n      margin-right: 20px;\n      flex: 0 0 160px;\n      text-align: right;\n    }\n  }\n  .err-msg {\n    color: $color-error;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordChangeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordChangeForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordChangeForm.vue?vue&type=template&id=52ae57d8&scoped=true&lang=pug&\"\nimport script from \"./PasswordChangeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordChangeForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PasswordChangeForm.vue?vue&type=style&index=0&id=52ae57d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52ae57d8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('info-input',{model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.check\n  .title {{ title }}\n  info-input(v-model=\"data\")\n</template>\n\n<script>\nexport default {\n  props: {\n    extData: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      data: '',\n      title: '',\n    };\n  },\n  mounted() {\n    this.data = this.extData.data;\n    this.title = this.extData.title;\n    this.$on('validate', () => {\n      this.$emit('validateSuccess', this.data);\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.check {\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  .title {\n    margin-right: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputForm.vue?vue&type=template&id=7e15c5ae&scoped=true&lang=pug&\"\nimport script from \"./InputForm.vue?vue&type=script&lang=js&\"\nexport * from \"./InputForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputForm.vue?vue&type=style&index=0&id=7e15c5ae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e15c5ae\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"profile\"\n    id=\"content\"\n  >\n    <div class=\"title row\">{{ $t('page.profile') }}</div>\n    <div class=\"block\">\n      <div class=\"session\">\n        <div class=\"session-title\">{{ $t('user.user_information') }}</div>\n        <div class=\"information\">\n          <div\n            class=\"info-row\"\n            v-for=\"key in Object.keys(info)\"\n            :key=\"key\"\n          >\n            <div class=\"name\">{{ $t(`user.info_${key}`) }}</div>\n            <div class=\"value\">{{ info[key] }}</div>\n          </div>\n          <div\n            class=\"info-row\"\n            v-if=\"userType === 0\"\n          >\n            <div class=\"name\">{{ $t('user.info_password')}}</div>\n            <text-button @click=\"changePassword\"> {{ $t('user.chagne_password') }} </text-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"session\">\n        <label-switch\n          class=\"switch\"\n          :options=\"pageOption\"\n          v-model=\"currentPage\"\n        />\n        <div\n          class=\"session-page\"\n          v-if='currentPage === \"keys\"'\n        >\n          <text-button @click=\"$router.push({ name: 'ProfileNewkey', params: {id: ''} })\">\n            {{ $t('user.add_security_key') }}</text-button>\n          <div class=\"list-container\">\n            <div class=\"header l-row\">\n              <div class=\"name\">{{ $t('general.security_key_name') }}</div>\n              <div class=\"time\">{{ $t('general.add_time') }}</div>\n              <div class=\"actions\">{{ $t('general.actions') }}</div>\n            </div>\n            <div\n              class=\"list l-row\"\n              v-for=\"key in keys\"\n              :key=\"key.id\"\n            >\n              <div class=\"name\">\n                {{ key.name }}\n              </div>\n              <div class=\"time\">\n                {{ key.create_time }}\n              </div>\n              <div class=\"actions\">\n                <div\n                  class=\"text-link\"\n                  @click=\"popEditKey(key)\"\n                >{{ $t('general.edit') }}</div>\n                <div\n                  class=\"text-link\"\n                  @click=\"popDeleteKey(key)\"\n                >{{ $t('general.delete') }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          class=\"session-page\"\n          v-else-if='currentPage === \"records\"'\n        >\n          <text-button @click=\"downloadRecords\">{{ $t('general.export_record') }}</text-button>\n          <div\n            class=\"desc\"\n            v-if=\"recordNum > recordLimit\"\n          >\n            {{ $t('user.too_many_record', {num: recordNum, limit: recordLimit}) }}\n          </div>\n          <div class=\"list-container\">\n            <div class=\"header l-row\">\n              <div class=\"time\">{{ $t('general.time') }}</div>\n              <div\n                class=\"class\"\n                v-if=\"userType === 2\"\n              >{{ $t('general.class') }}</div>\n              <div\n                class=\"used-key\"\n                v-if=\"userType !== 1\"\n              >{{ $t('general.key_used') }}</div>\n              <div class=\"ip\">{{ $t('general.ip') }}</div>\n            </div>\n            <div\n              class=\"list l-row\"\n              v-for=\"data in records\"\n              :key=\"data.time\"\n            >\n              <div class=\"time\">\n                {{ data.timeStr }}\n              </div>\n              <div\n                class=\"class\"\n                v-if=\"userType === 2\"\n              >\n                {{ data.class }}\n              </div>\n              <div\n                class=\"used-key\"\n                v-if=\"userType !== 1\"\n              >\n                {{ data.key_use_boolean }}\n              </div>\n              <div class=\"ip\">\n                {{ data.ip }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {\n  getUser, getUserKeys, getUserRecords, updateUser, deleteUserKey, updateKeyName,\n} from '@/utils/api';\nimport { datetimeToString } from '@/utils/format';\nimport PasswordChangeForm from '@/components/forms/PasswordChangeForm.vue';\nimport Check from '@/components/forms/Check.vue';\nimport InputForm from '@/components/forms/InputForm.vue';\nimport misc from '@/utils/misc';\nimport { userRecordColumnList } from '@/utils/constant';\n\nconst typeNameKey = {\n  0: 'general.admin',\n  1: 'general.teacher',\n  2: 'general.student',\n};\n\nexport default {\n  data() {\n    return {\n      info: {\n        name: '',\n        type: '',\n      },\n      userType: 0,\n      currentPage: 'keys',\n      pageOption: [],\n      keys: [],\n      user: {},\n      records: [],\n      recordLimit: 30,\n      recordNum: 0,\n      uiSet: false,\n    };\n  },\n  computed: {\n    ...mapState(['currentUser']),\n  },\n  watch: {\n    currentUser() {\n      this.loadUserInfo();\n    },\n  },\n  methods: {\n    downloadRecords() {\n      const that = this;\n      that.$startLoading();\n      getUserRecords(that.currentUser)\n        .then((rsp) => {\n          const records = rsp.result;\n          records.forEach((r) => {\n            r.timeStr = datetimeToString(r.time);\n            r.key_use_boolean = r.key_use === 'FIDO Key' ? 'Yes' : 'No';\n          });\n          let output = '\\ufeff';\n          const columns = userRecordColumnList[that.userType] || [];\n          output += columns.map((col) => that.$t(col.labelKey)).join(',');\n          output += '\\n';\n\n          records.forEach((r) => {\n            output += columns.map((col) => r[col.valueKey] || '').join(',');\n            output += '\\n';\n          });\n          const data = new Blob([output], { type: 'text/csv' });\n          misc.downloadRawFile(data, `${that.currentUser}_record.csv`);\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    saveKey(userID, keyID, name) {\n      const that = this;\n      return updateKeyName(userID, keyID, name)\n        .then(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('user.update_key'),\n            type: 'success',\n            text: that.$t('fido.update_key_name', { name }),\n          });\n        });\n    },\n    popEditKey(c) {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: InputForm,\n        ok_msg: that.$t('general.save'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          title: that.$t('general.name'),\n          data: c.name,\n        },\n        callback: {\n          ok: (value) => {\n            console.log(value);\n            this.saveKey(this.currentUser, c.id, value)\n              .then(() => {\n                c.name = value;\n              })\n              .catch(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('user.update_key'),\n                  type: 'warning',\n                  text: that.$t('fido.update_key_name_fail', { value }),\n                });\n              });\n          },\n        },\n        title: that.$t('user.update_key'),\n        validate: true,\n        clickOutsideClose: false,\n      });\n    },\n    popDeleteKey(c) {\n      console.log(c);\n      const that = this;\n      const msg = that.$t('user.delete_key_msg', { name: c.name });\n      that.$root.$emit('pop-window', {\n        component: Check,\n        ok_msg: that.$t('general.delete'),\n        cancel_msg: that.$t('general.cancel'),\n        extData: {\n          msg,\n        },\n        callback: {\n          ok: () => {\n            console.log('ok');\n            deleteUserKey(this.currentUser, c.id)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.delete_success'),\n                  type: 'success',\n                });\n                that.loadUserInfo();\n              })\n              .catch((e) => {\n                this.$notify({\n                  group: 'attendance',\n                  title: this.$t('general.update_fail'),\n                  type: 'warn',\n                  text: e.response.data.message,\n                });\n              });\n          },\n        },\n        title: that.$t('user.delete_key'),\n        validate: false,\n        clickOutsideClose: false,\n      });\n    },\n    changePassword() {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: PasswordChangeForm,\n        ok_msg: that.$t('general.save'),\n        cancel_msg: that.$t('general.cancel'),\n        callback: {\n          ok: (c) => {\n            const updatedUser = JSON.parse(JSON.stringify(that.user));\n            updatedUser.password = c.password;\n            that.$startLoading();\n            console.log(updatedUser);\n            updateUser(updatedUser)\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('user.update_password_success'),\n                  type: 'success',\n                });\n              })\n              .catch((e) => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('user.update_password_fail'),\n                  type: 'error',\n                  text: e.toString(),\n                });\n                that.changePassword();\n              })\n              .finally(() => {\n                that.$endLoading();\n                that.loadUserInfo();\n              });\n          },\n        },\n        title: that.$t('user.chagne_password'),\n        validate: true,\n        clickOutsideClose: false,\n      });\n    },\n    expandRow(row) {\n      this.sessions.forEach((s) => {\n        s.expand = false;\n      });\n      row.expand = true;\n    },\n    loadUserInfo() {\n      const that = this;\n      if (!that.currentUser) {\n        return;\n      }\n      that.$startLoading();\n      getUser(this.currentUser)\n        .then((data) => {\n          that.user = data.result;\n          that.userType = data.result.type;\n          that.info = {\n            name: data.result.name,\n            id: data.result.id,\n            type: that.$t(typeNameKey[data.result.type]),\n          };\n          if (that.userType === 2) {\n            that.currentPage = 'records';\n          } else if (!that.uiSet) {\n            that.pageOption.push({\n              val: 'keys',\n              text: this.$t('general.security_key'),\n            });\n          }\n          if (!that.uiSet) {\n            that.pageOption.push({\n              val: 'records',\n              text: this.$t('general.login_record'),\n            });\n            that.uiSet = true;\n          }\n        })\n        .then(() => getUserRecords(that.currentUser))\n        .then((rsp) => {\n          that.recordNum = rsp.result.length;\n          that.records = rsp.result.slice(0, that.recordLimit);\n          that.records.forEach((r) => {\n            r.timeStr = datetimeToString(r.time);\n            r.key_use_boolean = r.key_use === 'FIDO Key' ? 'Yes' : 'No';\n          });\n        })\n        .then(() => getUserKeys(this.currentUser))\n        .then((data) => {\n          that.keys = data.result.map((r) => ({\n            id: r.id,\n            name: r.name,\n            create_time: datetimeToString(parseInt(r.create_time, 10)),\n          }));\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n  },\n  mounted() {\n    this.loadUserInfo();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  @include auto-overflow();\n  @include customScrollbar();\n  display: flex;\n  flex-direction: column;\n  .session {\n    flex: 0 0 auto;\n  }\n}\n.session {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: column;\n  .session-title {\n    font-weight: bold;\n    padding: 8px 20px;\n  }\n  .information {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    padding: 0px 20px;\n\n    .info-row {\n      display: flex;\n      align-items: center;\n      flex: 0 0 40px;\n      padding: 8px 20px;\n      .name {\n        flex: 0 0 120px;\n        text-align: right;\n        padding-right: 20px;\n      }\n      .value {\n        flex: 1;\n      }\n    }\n  }\n\n  .switch {\n    margin: 0 20px;\n  }\n  .session-page {\n    flex: 1;\n    padding: 20px;\n    margin: 0px 20px;\n    margin-top: -1px;\n    border: 1px solid #e9e9e9;\n    & > .text-button {\n      margin-bottom: 8px;\n    }\n    .desc {\n      font-size: 12px;\n      margin-bottom: 8px;\n    }\n    .list-container {\n      font-size: 12px;\n      .header {\n        border-bottom: 1px solid #e9e9e9;\n      }\n      .l-row {\n        display: flex;\n        align-items: center;\n        padding: 8px 0px;\n      }\n      .name {\n        flex: 0 0 140px;\n      }\n      .time {\n        flex: 0 0 150px;\n      }\n      .class {\n        flex: 0 0 120px;\n      }\n      .ip {\n        flex: 1;\n      }\n      .used-key {\n        flex: 0 0 200px;\n      }\n      .actions {\n        flex: 1;\n      }\n      .actions {\n        flex: 1;\n        .text-link {\n          margin-right: 8px;\n          color: $color-primary;\n          display: inline-block;\n          text-decoration: underline;\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=c9396d44&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=c9396d44&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9396d44\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new-key\",attrs:{\"id\":\"content\"}},[(_vm.inProfile)?_c('div',{staticClass:\"title row\"},[[_c('span',{staticClass:\"click-button link\",on:{\"click\":function($event){return _vm.goProfile()}}},[_vm._v(_vm._s(_vm.$t('page.profile')))]),_c('div',{staticClass:\"seperator\"}),_c('span',[_vm._v(_vm._s(_vm.$t('user.add_security_key')))])]],2):_c('div',{staticClass:\"title row\"},[(!_vm.firstLogin)?[_c('span',{staticClass:\"click-button link\",on:{\"click\":function($event){return _vm.goUsers()}}},[_vm._v(_vm._s(_vm.$t('page.users')))]),_c('div',{staticClass:\"seperator\"}),_c('span',{staticClass:\"click-button link\",on:{\"click\":function($event){return _vm.goUser()}}},[_vm._v(_vm._s(_vm.username))]),_c('div',{staticClass:\"seperator\"}),_c('span',[_vm._v(_vm._s(_vm.$t('user.add_security_key')))])]:[_c('span',[_vm._v(_vm._s(_vm.$t('fido.security_key_setting')))])]],2),_c('div',{staticClass:\"block\"},[(_vm.firstLogin)?_c('div',{staticClass:\"block-row\"},[_c('span',[_vm._v(_vm._s(_vm.$t('user.first_add_key_desc')))])]):_vm._e(),(_vm.keyID !== '')?_c('div',{staticClass:\"block-row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('general.security_key_name')))]),_c('div',{staticClass:\"value\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])]):_vm._e(),(_vm.firstLogin)?_c('div',{staticClass:\"block-row\"},[(_vm.fido === undefined)?_c('text-button',{on:{\"click\":_vm.newKey}},[_vm._v(_vm._s(_vm.$t('user.add_security_key')))]):_vm._e()],1):_c('div',{staticClass:\"block-row\"},[(_vm.needRecheck)?_c('text-button',{on:{\"click\":_vm.newKey}},[_vm._v(_vm._s(_vm.$t('user.get_security_key_again')))]):_vm._e()],1),_c('div',{staticClass:\"block-row\"},[(_vm.fido !== undefined && !_vm.needRecheck)?_c('text-button',{on:{\"click\":_vm.saveKey}},[_c('span',[_vm._v(_vm._s(_vm.$t('general.save')))])]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#content.new-key\n  .title.row(v-if=\"inProfile\")\n    template\n      span.click-button.link(@click=\"goProfile()\") {{ $t('page.profile') }}\n      .seperator\n      span {{ $t('user.add_security_key') }}\n  .title.row(v-else)\n    template(v-if=\"!firstLogin\")\n      span.click-button.link(@click=\"goUsers()\") {{ $t('page.users') }}\n      .seperator\n      span.click-button.link(@click=\"goUser()\") {{ username }}\n      .seperator\n      span {{ $t('user.add_security_key') }}\n    template(v-else)\n      span {{ $t('fido.security_key_setting') }}\n  .block\n    .block-row(v-if=\"firstLogin\")\n      span {{ $t('user.first_add_key_desc') }}\n    .block-row(v-if=\"keyID !== ''\")\n      .label {{ $t('general.security_key_name') }}\n      .value\n        //- span {{ name }}\n        input(v-model=\"name\")\n    .block-row(v-if=\"firstLogin\")\n      text-button(v-if=\"fido === undefined\", @click=\"newKey\") {{ $t('user.add_security_key') }}\n    .block-row(v-else)\n      text-button(v-if=\"needRecheck\", @click=\"newKey\") {{ $t('user.get_security_key_again') }}\n    .block-row\n      text-button(@click=\"saveKey\", v-if=\"fido !== undefined && !needRecheck\")\n        span {{ $t('general.save') }}\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport {\n  getUser, addUserKey, getMakeChallenge, updateKeyName,\n} from '@/utils/api';\nimport { create as FIDOCreate, get as FIDOGet } from '@/utils/fido';\n\nexport default {\n  props: {\n    id: {\n      required: true,\n    },\n  },\n  data() {\n    return {\n      name: '',\n      fido: undefined,\n      needRecheck: false,\n      keyID: '',\n      userID: '',\n      inProfile: false,\n      username: '',\n    };\n  },\n  computed: {\n    ...mapState(['firstLogin', 'currentUser']),\n  },\n  methods: {\n    ...mapMutations(['setFirstLogin']),\n    goUsers() {\n      this.$router.push({ name: 'Users' });\n    },\n    goUser() {\n      this.$router.push({ name: 'User', params: { id: this.userID } });\n    },\n    goProfile() {\n      this.$router.push({ name: 'Profile' });\n    },\n    saveKey() {\n      const that = this;\n      updateKeyName(that.userID, that.keyID, that.name)\n        .then(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('fido.create_key_success'),\n            type: 'success',\n            text: that.$t('fido.update_key_name', { name: that.name }),\n          });\n          if (!that.firstLogin) {\n            that.$router.go(-1);\n          } else {\n            that.setFirstLogin(false);\n            that.$router.push('/classes');\n          }\n        })\n        .catch(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('fido.create_key_success'),\n            type: 'warning',\n            text: that.$t('fido.update_key_name_fail', { name: that.name }),\n          });\n        });\n    },\n    newKey() {\n      const that = this;\n      let challenge = '';\n      let excludeCredentials = [];\n      let user = {};\n      that.$startLoading();\n      getUser(that.userID)\n        .then((r) => {\n          user = r.result;\n          that.username = user.name;\n        })\n        .then(() => getMakeChallenge(that.userID))\n        .then((d) => {\n          challenge = d.result.challenge;\n          excludeCredentials = d.result.excludeCredentials;\n        })\n        .then(() => FIDOCreate(that.userID, that.userID, user.name, challenge, excludeCredentials)\n          .catch((e) => {\n            console.log(e.code);\n            const errMsg = e.code === 11 ? that.$t('fido.already_existed_err') : e.toString();\n            if (e.code !== 0) {\n              that.$notify({\n                group: 'attendance',\n                title: that.$t('fido.create_key_error'),\n                type: 'error',\n                text: errMsg,\n              });\n            }\n            throw e;\n          }))\n        .then((d) => {\n          console.log(d);\n          that.fido = d;\n          that.$startLoading();\n        })\n        .then(() => addUserKey(that.userID, that.fido)\n          .catch((e) => {\n            console.log(e.response);\n            that.$notify({\n              group: 'attendance',\n              title: that.$t('fido.create_key_error'),\n              type: 'error',\n              text: e.response.data.error,\n            });\n            throw e;\n          }))\n        .then((d) => {\n          that.keyID = d.result.id;\n          that.name = d.result.name;\n          that.needRecheck = false;\n        })\n        .catch((e) => {\n          console.log(e);\n          if (e.response && e.response.data && e.response.data.error === 'not_find_user') {\n            that.$router.push({ name: 'Profile' });\n          }\n          that.needRecheck = true;\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    useExistedKey() {\n      const that = this;\n      getUser(this.userID)\n        .then(() => FIDOGet())\n        .then((d) => {\n          console.log(d);\n          that.fido = d;\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n  },\n  mounted() {\n    this.userID = this.id;\n    if (this.userID === '') {\n      this.userID = this.currentUser;\n      this.inProfile = true;\n    }\n    if (!this.firstLogin) {\n      this.newKey();\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/variable.scss\";\n\n.title {\n  &.row {\n    display: flex;\n    .link {\n      text-decoration: underline;\n      color: $active-color;\n    }\n    .seperator {\n      &::before {\n        content: \">\";\n        padding: 0 8px;\n      }\n    }\n  }\n}\n\n.block {\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n\n  .block-row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    .label {\n      margin-right: 8px;\n    }\n    .text-button {\n      margin-right: 8px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewKey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewKey.vue?vue&type=template&id=51472f4b&scoped=true&lang=pug&\"\nimport script from \"./NewKey.vue?vue&type=script&lang=js&\"\nexport * from \"./NewKey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewKey.vue?vue&type=style&index=0&id=51472f4b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51472f4b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classes\"},[_c('div',{staticClass:\"title row\"},[_vm._v(_vm._s(_vm.$t('campus.periods')))]),_c('div',{staticClass:\"row\"},[_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.addCampus}},[_vm._v(_vm._s(_vm.$t('campus.add_campus')))])],1),_c('div',{staticClass:\"block\"},_vm._l((_vm.campuses),function(campus){return _c('div',{key:campus.id,staticClass:\"campus-block\"},[_c('div',{staticClass:\"campus-name click-button\"},[_c('span',[_vm._v(\" \"+_vm._s(campus.name)+\" \")]),_c('icon',{attrs:{\"icon-type\":\"delete\",\"size\":20},on:{\"click\":function($event){return _vm.deleteCampus(campus)}}})],1),_c('div',{staticClass:\"table\",class:{editing: _vm.editing}},[_c('div',{staticClass:\"fix-column\"},[_c('div',{staticClass:\"t-cell header title\"},[_vm._v(_vm._s(_vm.$t('campus.period')))]),_c('div',{staticClass:\"t-cell title\"},[_vm._v(_vm._s(_vm.$t('campus.start_time')))]),_c('div',{staticClass:\"t-cell title\"},[_vm._v(_vm._s(_vm.$t('campus.end_time')))])]),_c('div',{staticClass:\"scroll-column\"},[_vm._l((campus.periods),function(period,idx){return _c('div',{key:idx,staticClass:\"scroll-column-inner\"},[_c('div',{staticClass:\"t-cell header period\"},[_c('span',[_vm._v(_vm._s(idx + 1))]),(idx === campus.periods.length - 1 && idx !== 0)?_c('icon',{staticClass:\"delete-icon\",attrs:{\"icon-type\":\"delete\",\"size\":20},on:{\"click\":function($event){return _vm.deletePeriod(campus, idx)}}}):_vm._e()],1),(!period.editStartTime)?_c('div',{staticClass:\"t-cell period\"},[_vm._v(\" \"+_vm._s(_vm.paddingNumToTwo(period.start_time.hour))+\" : \"+_vm._s(_vm.paddingNumToTwo(period.start_time.minute))+\" \"),_c('icon',{staticClass:\"edit-icon\",attrs:{\"icon-type\":\"edit\",\"size\":12,\"button\":\"\"},on:{\"click\":function($event){return _vm.startEdit(period, 'start')}}})],1):_c('div',{staticClass:\"t-cell period\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editHour),expression:\"editHour\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.editHour=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.allowHours),function(v){return _c('option',{key:v,domProps:{\"value\":v}},[_vm._v(_vm._s(v))])}),0),_vm._v(\" : \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editMinute),expression:\"editMinute\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.editMinute=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.allowMinutes),function(v){return _c('option',{key:v,domProps:{\"value\":v}},[_vm._v(_vm._s(v))])}),0),(!_vm.invalidTime)?_c('icon',{staticClass:\"period-icon save\",attrs:{\"icon-type\":\"check_green\",\"size\":12,\"button\":\"\"},on:{\"click\":function($event){return _vm.saveEdit(campus, period, 'start')}}}):_vm._e(),_c('icon',{staticClass:\"period-icon cancel\",attrs:{\"icon-type\":\"delete\",\"size\":16,\"button\":\"\"},on:{\"click\":function($event){return _vm.cancelEdit(period, 'start')}}})],1),(!period.editEndTime)?_c('div',{staticClass:\"t-cell period\"},[_vm._v(\" \"+_vm._s(_vm.paddingNumToTwo(period.end_time.hour))+\" : \"+_vm._s(_vm.paddingNumToTwo(period.end_time.minute))+\" \"),_c('icon',{staticClass:\"edit-icon\",attrs:{\"icon-type\":\"edit\",\"size\":12,\"button\":\"\"},on:{\"click\":function($event){return _vm.startEdit(period, 'end')}}})],1):_c('div',{staticClass:\"t-cell period\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editHour),expression:\"editHour\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.editHour=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.allowHours),function(v){return _c('option',{key:v,domProps:{\"value\":v}},[_vm._v(_vm._s(v))])}),0),_vm._v(\" : \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editMinute),expression:\"editMinute\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.editMinute=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.allowMinutes),function(v){return _c('option',{key:v,domProps:{\"value\":v}},[_vm._v(_vm._s(v))])}),0),(!_vm.invalidTime)?_c('icon',{staticClass:\"period-icon save\",attrs:{\"icon-type\":\"check_green\",\"size\":12,\"button\":\"\"},on:{\"click\":function($event){return _vm.saveEdit(campus, period, 'end')}}}):_vm._e(),_c('icon',{staticClass:\"period-icon cancel\",attrs:{\"icon-type\":\"delete\",\"size\":16,\"button\":\"\"},on:{\"click\":function($event){return _vm.cancelEdit(period, 'end')}}})],1)])}),(!_vm.editing)?_c('div',{staticClass:\"scroll-column-inner\"},[_c('div',{staticClass:\"t-cell header period\"},[_vm._v(_vm._s(_vm.$t('campus.operation')))]),_c('div',{staticClass:\"t-cell t-cell-2-column actions\"},[_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){return _vm.addPeriod(campus)}}},[_vm._v(_vm._s(_vm.$t('general.add'))+\" \"+_vm._s(_vm.$t('class.period')))])])]):_vm._e()],2)])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"class-form\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.$t('general.name')))]),_c('info-input',{attrs:{\"msg\":_vm.$t('campus.name_info'),\"fill\":\"\",\"error\":_vm.isUserNameTooltipShown,\"errorMsg\":_vm.userNameErrorMsg},model:{value:(_vm.campusName),callback:function ($$v) {_vm.campusName=$$v},expression:\"campusName\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"class-form\">\n    <div class=\"row\">\n      <div class=\"label\">{{ $t('general.name') }}</div>\n      <info-input\n        v-model=\"campusName\"\n        :msg=\"$t('campus.name_info')\"\n        fill\n        :error=\"isUserNameTooltipShown\"\n        :errorMsg=\"userNameErrorMsg\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      campusName: '',\n      nameMaxLength: 64,\n      isUserNameTooltipShown: false,\n      userNameErrorMsg: '',\n    };\n  },\n  methods: {\n    validate() {\n      this.$emit('validateSuccess', this.campusName);\n    },\n  },\n  mounted() {\n    this.$on('validate', this.validate);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.class-form {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  width: 400px;\n  .row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    .label {\n      margin-right: 20px;\n      flex: 0 0 100px;\n      text-align: right;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampusForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampusForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CampusForm.vue?vue&type=template&id=2eaf9f32&scoped=true&\"\nimport script from \"./CampusForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CampusForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CampusForm.vue?vue&type=style&index=0&id=2eaf9f32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2eaf9f32\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"classes\">\n    <div class=\"title row\">{{ $t('campus.periods') }}</div>\n    <div class=\"row\">\n      <text-button\n        button-type=\"primary\"\n        @click=\"addCampus\"\n      >{{ $t('campus.add_campus') }}</text-button>\n    </div>\n    <div class=\"block\">\n      <div\n        class=\"campus-block\"\n        v-for=\"campus in campuses\"\n        :key=\"campus.id\"\n      >\n        <div class=\"campus-name click-button\">\n          <span> {{ campus.name }} </span>\n          <icon\n            icon-type=\"delete\"\n            :size=\"20\"\n            @click=\"deleteCampus(campus)\"\n          />\n        </div>\n        <div\n          class=\"table\"\n          :class=\"{editing: editing}\"\n        >\n          <div class=\"fix-column\">\n            <div class=\"t-cell header title\">{{ $t('campus.period') }}</div>\n            <div class=\"t-cell title\">{{ $t('campus.start_time') }}</div>\n            <div class=\"t-cell title\">{{ $t('campus.end_time') }}</div>\n          </div>\n          <div class=\"scroll-column\">\n            <div\n              class=\"scroll-column-inner\"\n              v-for=\"(period, idx) in campus.periods\"\n              :key=\"idx\"\n            >\n              <div class=\"t-cell header period\">\n                <span>{{ idx + 1 }}</span>\n                <icon\n                  class=\"delete-icon\"\n                  v-if=\"idx === campus.periods.length - 1 && idx !== 0\"\n                  icon-type=\"delete\"\n                  :size=\"20\"\n                  @click=\"deletePeriod(campus, idx)\"\n                />\n              </div>\n              <div\n                class=\"t-cell period\"\n                v-if=\"!period.editStartTime\"\n              >\n                {{ paddingNumToTwo(period.start_time.hour) }}\n                :\n                {{ paddingNumToTwo(period.start_time.minute) }}\n                <icon\n                  class=\"edit-icon\"\n                  icon-type=\"edit\"\n                  :size=\"12\"\n                  button\n                  @click=\"startEdit(period, 'start')\"\n                />\n              </div>\n              <div\n                class=\"t-cell period\"\n                v-else\n              >\n                <select v-model=\"editHour\">\n                  <option\n                    v-for=\"v in allowHours\"\n                    :key=\"v\"\n                    :value=\"v\"\n                  >{{v}}</option>\n                </select>\n                :\n                <select v-model=\"editMinute\">\n                  <option\n                    v-for=\"v in allowMinutes\"\n                    :key=\"v\"\n                    :value=\"v\"\n                  >{{v}}</option>\n                </select>\n                <icon\n                  class=\"period-icon save\"\n                  icon-type=\"check_green\"\n                  :size=\"12\"\n                  button\n                  v-if=\"!invalidTime\"\n                  @click=\"saveEdit(campus, period, 'start')\"\n                />\n                <icon\n                  class=\"period-icon cancel\"\n                  icon-type=\"delete\"\n                  :size=\"16\"\n                  button\n                  @click=\"cancelEdit(period, 'start')\"\n                />\n              </div>\n              <div\n                class=\"t-cell period\"\n                v-if=\"!period.editEndTime\"\n              >\n                {{ paddingNumToTwo(period.end_time.hour) }}\n                :\n                {{ paddingNumToTwo(period.end_time.minute) }}\n                <icon\n                  class=\"edit-icon\"\n                  icon-type=\"edit\"\n                  :size=\"12\"\n                  button\n                  @click=\"startEdit(period, 'end')\"\n                />\n              </div>\n              <div\n                class=\"t-cell period\"\n                v-else\n              >\n                <select v-model=\"editHour\">\n                  <option\n                    v-for=\"v in allowHours\"\n                    :key=\"v\"\n                    :value=\"v\"\n                  >{{v}}</option>\n                </select>\n                :\n                <select v-model=\"editMinute\">\n                  <option\n                    v-for=\"v in allowMinutes\"\n                    :key=\"v\"\n                    :value=\"v\"\n                  >{{v}}</option>\n                </select>\n                <icon\n                  class=\"period-icon save\"\n                  icon-type=\"check_green\"\n                  :size=\"12\"\n                  button\n                  v-if=\"!invalidTime\"\n                  @click=\"saveEdit(campus, period, 'end')\"\n                />\n                <icon\n                  class=\"period-icon cancel\"\n                  icon-type=\"delete\"\n                  :size=\"16\"\n                  button\n                  @click=\"cancelEdit(period, 'end')\"\n                />\n              </div>\n            </div>\n            <div\n              class=\"scroll-column-inner\"\n              v-if=\"!editing\"\n            >\n              <div class=\"t-cell header period\">{{ $t('campus.operation') }}</div>\n              <div class=\"t-cell t-cell-2-column actions\">\n                <div\n                  class=\"text-link\"\n                  @click=\"addPeriod(campus)\"\n                >{{ $t('general.add') }} {{ $t('class.period') }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getCampuses, addCampus, updateCampus, deleteCampus,\n  checkIsTokenError,\n} from '@/utils/api';\nimport CampusForm from '@/components/forms/CampusForm.vue';\nimport { paddingNumToTwo } from '@/utils/format';\n\nconst hours = Array.from(new Array(24).keys());\nconst minutes = Array.from(new Array(60).keys());\n\nexport default {\n  data() {\n    return {\n      editHour: undefined,\n      editMinute: undefined,\n      editType: '',\n      editPeriod: undefined,\n      campuses: [],\n      allowHours: [],\n      allowMinutes: [],\n      invalidTime: false,\n    };\n  },\n  computed: {\n    editing() {\n      return this.campuses.reduce(\n        (ret1, campus) => ret1\n          || campus.periods.reduce(\n            (ret2, period) => ret2 || period.editStartTime || period.editEndTime, false,\n          ),\n        false,\n      );\n    },\n  },\n  watch: {\n    editHour() {\n      switch (this.editType) {\n        case 'start':\n          if (this.editHour === this.editPeriod.end_time.hour) {\n            this.allowMinutes = minutes.filter((h) => h < this.editPeriod.end_time.minute);\n            if (this.editMinute >= this.editPeriod.end_time.minute) {\n              this.editMinute = this.editPeriod.end_time.minute - 1;\n            }\n          } else {\n            this.allowMinutes = minutes;\n          }\n          break;\n        case 'end':\n          if (this.editHour === this.editPeriod.start_time.hour) {\n            this.allowMinutes = minutes.filter((h) => h > this.editPeriod.start_time.minute);\n            if (this.editMinute <= this.editPeriod.start_time.minute) {\n              this.editMinute = this.editPeriod.start_time.minute + 1;\n            }\n          } else {\n            this.allowMinutes = minutes;\n          }\n          break;\n        default:\n      }\n      if (this.allowHours.length === 0 || this.allowMinutes.length === 0) {\n        this.invalidTime = true;\n      } else {\n        this.invalidTime = false;\n      }\n    },\n  },\n  methods: {\n    paddingNumToTwo,\n    addCampus() {\n      const that = this;\n      that.$root.$emit('pop-window', {\n        component: CampusForm,\n        ok_msg: that.$t('general.add'),\n        cancel_msg: that.$t('general.cancel'),\n        data: {\n\n        },\n        callback: {\n          ok: (name) => {\n            that.$startLoading();\n            addCampus(name)\n              .then(() => {\n                that.loadCampuses();\n              })\n              .then(() => {\n                that.$notify({\n                  group: 'attendance',\n                  title: that.$t('general.update_success'),\n                  type: 'success',\n                });\n              })\n              .catch((e) => {\n                that.notifyException(e);\n              })\n              .finally(() => {\n                that.$endLoading();\n              });\n          },\n        },\n        title: this.$t('campus.add_campus'),\n        validate: true,\n        clickOutsideClose: true,\n      });\n    },\n    addPeriod(campus) {\n      const that = this;\n      const newCampus = JSON.parse(JSON.stringify(campus));\n\n      let startHour = 9;\n      let startMinute = 0;\n      if (newCampus.periods.length > 0) {\n        startHour = newCampus.periods[newCampus.periods.length - 1].end_time.hour;\n        startMinute = newCampus.periods[newCampus.periods.length - 1].end_time.minute + 10;\n        if (startMinute >= 60) {\n          startHour += 1;\n          startMinute -= 60;\n        }\n      }\n\n      let endHour = startHour;\n      let endMinute = startMinute + 50;\n      if (endMinute >= 60) {\n        endHour += 1;\n        endMinute -= 60;\n      }\n\n      if (startHour >= 24) {\n        that.$notify({\n          group: 'attendance',\n          title: that.$t('general.update_fail'),\n          type: 'error',\n          text: that.$t('error.no_more_period'),\n        });\n        return;\n      }\n\n      const newPeriod = {\n        start_time: {\n          hour: startHour,\n          minute: startMinute,\n        },\n        end_time: {\n          hour: endHour,\n          minute: endMinute,\n        },\n      };\n      if (newPeriod.end_time.hour === 24) {\n        newPeriod.end_time.hour = 23;\n        newPeriod.end_time.minute = 59;\n      }\n\n      newCampus.periods.push(newPeriod);\n      that.$startLoading();\n      updateCampus(campus.id, newCampus)\n        .then(() => {\n          this.$notify({\n            group: 'attendance',\n            title: this.$t('general.update_success'),\n            type: 'success',\n          });\n          campus = {\n            ...newCampus,\n          };\n          return that.loadCampuses();\n        })\n        .catch((e) => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('general.update_fail'),\n            type: 'error',\n            text: that.$t('error.no_more_period'),\n          });\n          console.log(e);\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    deleteCampus(campus) {\n      this.$startLoading();\n      deleteCampus(campus.id)\n        .then(() => {\n          this.$notify({\n            group: 'attendance',\n            title: this.$t('general.delete_success'),\n            type: 'success',\n          });\n          return this.loadCampuses();\n        })\n        .catch((e) => {\n          this.notifyException(e);\n        })\n        .finally(() => {\n          this.$endLoading();\n        });\n    },\n    deletePeriod(campus, idx) {\n      const that = this;\n      that.$startLoading();\n      const newCampus = JSON.parse(JSON.stringify(campus));\n      newCampus.periods.splice(idx, 1);\n      updateCampus(campus.id, newCampus)\n        .then(() => {\n          campus.periods.splice(idx, 1);\n          this.$notify({\n            group: 'attendance',\n            title: this.$t('general.delete_success'),\n            type: 'success',\n          });\n          return that.loadCampuses();\n        })\n        .catch((e) => {\n          that.notifyException(e);\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    startEdit(period, type) {\n      this.editType = type;\n      this.editPeriod = period;\n      if (type === 'start') {\n        period.editStartTime = true;\n        this.allowHours = hours.filter((h) => h <= period.end_time.hour);\n        if (period.start_time.hour === period.end_time.hour) {\n          this.allowMinutes = minutes.filter((h) => h <= period.end_time.minute);\n          if (this.allowMinutes.length === 0) {\n            this.allowHours = hours.filter((h) => h < period.end_time.hour);\n            this.allowMinutes = minutes;\n          }\n        } else {\n          this.allowMinutes = minutes;\n        }\n        this.editHour = period.start_time.hour;\n        this.editMinute = period.start_time.minute;\n      } else if (type === 'end') {\n        period.editEndTime = true;\n\n        this.allowHours = hours.filter((h) => h >= period.start_time.hour);\n        if (period.end_time.hour === period.start_time.hour) {\n          this.allowMinutes = minutes.filter((h) => h >= period.start_time.minute);\n          if (this.allowMinutes.length === 0) {\n            this.allowHours = hours.filter((h) => h > period.start_time.hour);\n            this.allowMinutes = minutes;\n          }\n        } else {\n          this.allowMinutes = minutes;\n        }\n        this.editHour = period.end_time.hour;\n        this.editMinute = period.end_time.minute;\n      }\n      if (this.allowHours.length === 0 || this.allowMinutes.length === 0) {\n        this.invalidTime = true;\n      } else {\n        this.invalidTime = false;\n      }\n      this.$forceUpdate();\n    },\n    cancelEdit(period, type) {\n      if (type === 'start') {\n        period.editStartTime = false;\n      } else if (type === 'end') {\n        period.editEndTime = false;\n      }\n      this.editHour = undefined;\n      this.editMinute = undefined;\n      this.$forceUpdate();\n    },\n    saveEdit(campus, period, type) {\n      const that = this;\n      that.$startLoading();\n      if (type === 'start') {\n        period.editStartTime = false;\n        period.start_time.hour = that.editHour;\n        period.start_time.minute = that.editMinute;\n      } else if (type === 'end') {\n        period.editEndTime = false;\n        period.end_time.hour = that.editHour;\n        period.end_time.minute = that.editMinute;\n      }\n      that.editHour = undefined;\n      that.editMinute = undefined;\n      that.$forceUpdate();\n      that.$startLoading();\n      updateCampus(campus.id, campus)\n        .then(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('general.update_success'),\n            type: 'success',\n          });\n        })\n        .catch((e) => {\n          that.notifyException(e);\n        })\n        .finally(() => {\n          that.$endLoading();\n          return that.loadCampuses();\n        })\n        .finally(() => {\n          that.$endLoading();\n        });\n    },\n    loadCampuses() {\n      this.$startLoading();\n      return getCampuses()\n        .then((data) => {\n          this.campuses = data.result;\n        })\n        .catch((e) => {\n          checkIsTokenError(e.response);\n        })\n        .finally(() => {\n          this.$endLoading();\n        });\n    },\n    notifyException(e) {\n      const that = this;\n      that.$notify({\n        group: 'attendance',\n        title: that.$t('general.update_fail'),\n        type: 'error',\n        text: that.$t(`error.${e.response.data.error}`),\n      });\n    },\n  },\n  mounted() {\n    this.loadCampuses();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/styles/variable.scss\";\n.block {\n  .campus-block {\n    margin-bottom: 20px;\n    padding: 20px;\n  }\n  .campus-name {\n    margin: 8px 20px;\n    display: flex;\n  }\n}\n.table {\n  font-size: 12px;\n  display: flex;\n  flex-direction: row;\n\n  .fix-column {\n    flex: 0 0 120px;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n  .scroll-column {\n    flex: 1;\n    @include auto-overflow();\n    @include customScrollbar();\n    display: flex;\n    flex-direction: row;\n    .scroll-column-inner {\n      flex: 0 0 100px;\n      display: flex;\n      flex-direction: column;\n      &:last-child {\n        border-right: 1px solid #e9e9e9;\n      }\n    }\n  }\n  .t-cell {\n    flex: 0 0 36px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &.t-cell-2-column {\n      flex: 0 0 72px;\n    }\n\n    text-align: center;\n    &.header {\n      background: #fcfcfc;\n      border-top: 1px solid #e9e9e9;\n    }\n\n    &.period {\n      .edit-icon {\n        max-width: 0;\n        overflow: hidden;\n\n        transition: 0.25s max-width ease-in-out;\n      }\n      .delete-icon {\n        user-select: none;\n        cursor: pointer;\n      }\n      .period-icon {\n        margin-left: 4px;\n        &.save {\n          fill: $color-success;\n        }\n        &.cancel {\n          fill: $color-error;\n        }\n      }\n      &:hover {\n        .edit-icon {\n          max-width: 12px;\n          margin-left: 8px;\n        }\n      }\n    }\n\n    border: 1px solid #e9e9e9;\n    border-right: none;\n    border-top: none;\n    &.actions {\n      .text-link {\n        margin-right: 8px;\n        color: $color-primary;\n        display: inline-block;\n        text-decoration: underline;\n        &.danger {\n          color: $color-error;\n        }\n        user-select: none;\n        cursor: pointer;\n      }\n    }\n  }\n  &.editing {\n    .t-cell:hover {\n      .edit-icon {\n        max-width: 0;\n        margin-left: 0px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Periods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Periods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Periods.vue?vue&type=template&id=36b1a002&scoped=true&\"\nimport script from \"./Periods.vue?vue&type=script&lang=js&\"\nexport * from \"./Periods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Periods.vue?vue&type=style&index=0&id=36b1a002&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36b1a002\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"change-password\"},[_c('div',{staticClass:\"title row\"},[_c('span',[_vm._v(_vm._s(_vm.$t('user.chagne_password')))])]),_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"desc\"},[_c('span',[_vm._v(_vm._s(_vm.$t('user.first_change_pass_desc')))])]),_c('password-change-form',{ref:\"form\",staticClass:\"form\",on:{\"validateSuccess\":_vm.doSave}}),_c('div',{staticClass:\"operation\"},[_c('text-button',{attrs:{\"button-type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.$t('general.save')))])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.change-password\n  .title.row\n    span {{ $t('user.chagne_password') }}\n  .block\n    .desc\n      span {{ $t('user.first_change_pass_desc') }}\n    password-change-form.form(ref=\"form\", @validateSuccess=\"doSave\")\n    .operation\n      text-button(button-type=\"primary\", @click=\"save\") {{ $t('general.save') }}\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { getUser, updateUser } from '@/utils/api';\nimport PasswordChangeForm from '@/components/forms/PasswordChangeForm.vue';\n\nexport default {\n  components: {\n    'password-change-form': PasswordChangeForm,\n  },\n  computed: {\n    ...mapState(['firstLogin', 'currentUser']),\n  },\n  methods: {\n    save() {\n      const that = this;\n      that.$refs.form.$emit('validate');\n    },\n    doSave({ password }) {\n      const that = this;\n      console.log(password);\n      getUser(this.currentUser)\n        .then((data) => {\n          const updatedUser = JSON.parse(JSON.stringify(data.result));\n          updatedUser.password = password;\n          that.$startLoading();\n          return updateUser(updatedUser);\n        })\n        .then(() => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('user.update_password_success'),\n            type: 'success',\n          });\n        })\n        .catch((e) => {\n          that.$notify({\n            group: 'attendance',\n            title: that.$t('user.update_password_fail'),\n            type: 'error',\n            text: e.toString(),\n          });\n          that.changePassword();\n        })\n        .finally(() => {\n          that.$endLoading();\n          that.$router.push(`/user/${that.currentUser}/newkey`);\n        });\n    },\n  },\n  mounted() {\n    // if (!this.firstLogin) {\n    //   this.$router.push({ name: 'Profile' });\n    // }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  margin-top: 8px;\n}\n.operation {\n  width: 428px;\n  padding-left: 20px;\n}\n.desc {\n  margin-left: 20px;\n  margin-top: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=43124d0a&scoped=true&lang=pug&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangePassword.vue?vue&type=style&index=0&id=43124d0a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43124d0a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nimport Login from '../views/Login.vue';\nimport Classes from '../views/Classes.vue';\nimport Class from '../views/Class.vue';\nimport SignIn from '../views/SignIn.vue';\nimport NewClass from '../views/NewClass.vue';\nimport Users from '../views/Users.vue';\nimport User from '../views/User.vue';\nimport Profile from '../views/Profile.vue';\nimport NewKey from '../views/NewKey.vue';\nimport Periods from '../views/Periods.vue';\nimport ChangePassword from '../views/ChangePassword.vue';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login',\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n  },\n  {\n    path: '/periods',\n    name: 'Periods',\n    component: Periods,\n  },\n  {\n    path: '/classes',\n    name: 'Classes',\n    component: Classes,\n  },\n  {\n    path: '/new-class',\n    name: 'NewClass',\n    component: NewClass,\n    props: true,\n  },\n  {\n    path: '/class/:id',\n    name: 'Class',\n    component: Class,\n    props: true,\n  },\n  {\n    path: '/class/:id/edit',\n    name: 'EditClass',\n    component: NewClass,\n    props: true,\n  },\n  {\n    path: '/class/:id/signin/:session',\n    name: 'SignIn',\n    component: SignIn,\n    props: true,\n  },\n  {\n    path: '/users',\n    name: 'Users',\n    component: Users,\n  },\n  {\n    path: '/user/:id',\n    name: 'User',\n    component: User,\n    props: true,\n  },\n  {\n    path: '/user/:id/newkey',\n    name: 'UserNewKey',\n    component: NewKey,\n    props: true,\n  },\n  {\n    path: '/profile',\n    name: 'Profile',\n    component: Profile,\n  },\n  {\n    path: '/profile/newkey',\n    name: 'ProfileNewkey',\n    component: NewKey,\n    props: true,\n  },\n  {\n    path: '/change-password',\n    name: 'ChangePassword',\n    component: ChangePassword,\n  },\n];\n\nconst router = new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport pageConfig from '../config/page';\nimport { getUser } from '../utils/api';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    token: '',\n    secret: '',\n    currentPage: pageConfig[0],\n    firstLogin: false,\n    currentUser: undefined,\n    userInfo: undefined,\n  },\n  mutations: {\n    setPage(s, page) {\n      const keys = pageConfig.map((config) => config.key);\n      if (keys.indexOf(page.key) >= 0) {\n        s.currentPage = page;\n      }\n    },\n    setToken(s, { token, secret }) {\n      s.token = token;\n      s.secret = secret;\n    },\n    setFirstLogin(s, v) {\n      s.firstLogin = v;\n    },\n    setCurrentUser(s, user) {\n      s.currentUser = user;\n    },\n  },\n  actions: {\n    setCurrentUserID({ state }, userID) {\n      return getUser(userID).then((data) => {\n        state.currentUser = userID;\n        state.userInfo = data.result;\n        return data;\n      });\n    },\n  },\n  getters: {\n    isLogin(state) {\n      return state.token !== '';\n    },\n    username: (s) => (s.userInfo ? s.userInfo.name : ''),\n    currentUserType: (s) => {\n      if (s.userInfo) {\n        return s.userInfo.type;\n      }\n      return undefined;\n    },\n  },\n  modules: {},\n});\n","import Vue from 'vue';\nimport VueI18n from 'vue-i18n';\nimport vueCookies from 'vue-cookies';\nimport Notifications from 'vue-notification';\nimport Paginate from 'vuejs-paginate';\n\nimport App from './App.vue';\nimport './registerServiceWorker';\nimport router from './router';\nimport store from './store';\n\nimport en from './i18n/en';\nimport jp from './i18n/jp';\n\nimport TextButton from './components/TextButton.vue';\nimport PopWindows from './components/PopWindows.vue';\nimport InfoInput from './components/InfoInput.vue';\nimport LabelSwitch from './components/LabelSwitch.vue';\n\nimport Icon from './components/Icon.vue';\nimport GeneralScrollTable from './components/GeneralScrollTable';\nimport DropdownSelect from './components/DropdownSelect.vue';\nimport Tooltip from './plugins/tooltip';\nimport Loading from './plugins/loading';\n\nVue.use(Tooltip);\nVue.use(Loading);\nVue.use(vueCookies);\nVue.use(Notifications);\n\nVue.component('text-button', TextButton);\nVue.component('pop-windows', PopWindows);\nVue.component('info-input', InfoInput);\nVue.component('icon', Icon);\nVue.component('dropdown-select', DropdownSelect);\nVue.component('general-scroll-table', GeneralScrollTable);\nVue.component('label-switch', LabelSwitch);\nVue.component('paginate', Paginate);\n\nVue.use(VueI18n);\nconst i18n = new VueI18n({\n  locale: 'en',\n  messages: { en, jp },\n});\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  i18n,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classes.vue?vue&type=style&index=0&id=01fa3224&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classes.vue?vue&type=style&index=0&id=01fa3224&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=781ebb15&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=781ebb15&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Periods.vue?vue&type=style&index=0&id=36b1a002&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Periods.vue?vue&type=style&index=0&id=36b1a002&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileForm.vue?vue&type=style&index=0&id=c35b55b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileForm.vue?vue&type=style&index=0&id=c35b55b8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordChangeForm.vue?vue&type=style&index=0&id=52ae57d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordChangeForm.vue?vue&type=style&index=0&id=52ae57d8&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewClass.vue?vue&type=style&index=0&id=2717ca40&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewClass.vue?vue&type=style&index=0&id=2717ca40&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendStatusSwitch.vue?vue&type=style&index=0&id=76186e39&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendStatusSwitch.vue?vue&type=style&index=0&id=76186e39&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=style&index=0&id=cb6a43cc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Class.vue?vue&type=style&index=0&id=cb6a43cc&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=9091d5b4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=9091d5b4&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=style&index=0&id=bd8e54e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=style&index=0&id=bd8e54e4&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=3d62eb2b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=3d62eb2b&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/loginwithfido.f226a5f6.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=style&index=0&id=43124d0a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=style&index=0&id=43124d0a&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsForm.vue?vue&type=style&index=0&id=4a8b92e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsForm.vue?vue&type=style&index=0&id=4a8b92e4&lang=scss&scoped=true&\""],"sourceRoot":""}